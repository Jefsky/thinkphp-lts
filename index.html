<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

	<link rel="shortcut icon" href="./index_files/fav.png">
	<meta name="description" content="ThinkPHP Cheat Sheet , Codes , function , methods of laravel framework">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="author" content="@yangweijie">
	<title>ThinkPHP 5.0 速查表</title>
	<link rel="stylesheet" href="./index_files/normalize.css">
	<link rel="stylesheet" href="./index_files/foundation.min.css">
	<link rel="stylesheet" href="./index_files/font-awesome.min.css">
	<link rel="stylesheet" href="./index_files/page.css">
	<meta class="foundation-mq">
</head>
<body>
	<div class="off-canvas-wrapper wrapper-container">
		<div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
			<div class="off-canvas position-left sidebar-canvas" id="offCanvasLeft" data-off-canvas="u2ysoq-off-canvas" data-position="left" aria-hidden="true">
				<button class="close-button" aria-label="Close menu" type="button" data-close="">
					<span aria-hidden="true">×</span>
				</button>
				<ul class="mobile-ofc vertical menu">
					<li>
						<button class="warning hollow button check-all-button">查看全部</button>
					</li>
					<li>
						<ul class="submenu menu vertical mobile-cmd-cell" data-submenu=""><li><a href="#app" data-name="app">App</a></li><li><a href="#build" data-name="build">Build</a></li><li><a href="#cache" data-name="cache">Cache</a></li><li><a href="#config" data-name="config">Config</a></li><li><a href="#console" data-name="console">Console</a></li><li><a href="#controller" data-name="controller">Controller</a></li><li><a href="#cookie" data-name="cookie">Cookie</a></li><li><a href="#db" data-name="db">Db</a></li><li><a href="#debug" data-name="debug">Debug</a></li><li><a href="#env" data-name="env">Env</a></li><li><a href="#exception" data-name="exception">Exception</a></li><li><a href="#file" data-name="file">File</a></li><li><a href="#helper" data-name="helper">Helper</a></li><li><a href="#hook" data-name="hook">Hook</a></li><li><a href="#lang" data-name="lang">Lang</a></li><li><a href="#loader" data-name="loader">Loader</a></li><li><a href="#log" data-name="log">Log</a></li><li><a href="#model" data-name="model">Model</a></li><li><a href="#process" data-name="process">Process</a></li><li><a href="#request" data-name="request">Request</a></li><li><a href="#response" data-name="response">Response</a></li><li><a href="#route" data-name="route">Route</a></li><li><a href="#session" data-name="session">Session</a></li><li><a href="#template" data-name="template">Template</a></li><li><a href="#url" data-name="url">Url</a></li><li><a href="#validate" data-name="validate">Validate</a></li><li><a href="#view" data-name="view">View</a></li></ul>
					</li>
				</ul>
			</div>
			<div class="off-canvas-content" data-off-canvas-content="">
				<div class="title-bar hide-for-medium">
					<div class="title-bar-left">
						<button class="menu-icon" type="button" data-open="offCanvasLeft" aria-expanded="false" aria-controls="offCanvasLeft"></button>
					</div>
				</div>
			<div class="js-off-canvas-exit"></div></div>
			<a href="#top" id="top-button" title="Top"><i class="icon-arrow-up"></i></a>
			<a href="#" class="comments-toggle" title="隐藏/展示代码注释"><i class="icon-eye-close"></i></a>
			<div class="row full-width">
				<div class="large-2 columns code-column sidebar">
					<h5 class="sidebar-title">ThinkPHP 5.0 速查表</h5>
					<hr class="horizonal-line">
					<div class="show-for-medium">
						<button class="warning hollow button check-all-button">查看全部</button>
						<div class="clearfix"></div>
						<ul class="sidebar-menu">
						<li><a href="#app" data-name="app">App</a></li><li><a href="#build" data-name="build">Build</a></li><li><a href="#cache" data-name="cache">Cache</a></li><li><a href="#config" data-name="config">Config</a></li><li><a href="#console" data-name="console">Console</a></li><li><a href="#controller" data-name="controller">Controller</a></li><li><a href="#cookie" data-name="cookie">Cookie</a></li><li><a href="#db" data-name="db">Db</a></li><li><a href="#debug" data-name="debug">Debug</a></li><li><a href="#env" data-name="env">Env</a></li><li><a href="#exception" data-name="exception">Exception</a></li><li><a href="#file" data-name="file">File</a></li><li><a href="#helper" data-name="helper">Helper</a></li><li><a href="#hook" data-name="hook">Hook</a></li><li><a href="#lang" data-name="lang">Lang</a></li><li><a href="#loader" data-name="loader">Loader</a></li><li><a href="#log" data-name="log">Log</a></li><li><a href="#model" data-name="model">Model</a></li><li><a href="#process" data-name="process">Process</a></li><li><a href="#request" data-name="request">Request</a></li><li><a href="#response" data-name="response">Response</a></li><li><a href="#route" data-name="route">Route</a></li><li><a href="#session" data-name="session">Session</a></li><li><a href="#template" data-name="template">Template</a></li><li><a href="#url" data-name="url">Url</a></li><li><a href="#validate" data-name="validate">Validate</a></li><li><a href="#view" data-name="view">View</a></li></ul>
						<div class="clearfix"></div>
						<hr class="horizonal-line">
					</div>
										<p>本速查表里的类都是think为命名空间的，实例化时省去了 &nbsp;use。用的时候注意。</p><p>本速查表里会有四种方法的调用：</p><p>&nbsp; &nbsp; 公有方法 $class = new Class(); &nbsp;$class-&gt;foo();<br></p><p>&nbsp; &nbsp; 公有静态 Class::foo();<br></p><p>&nbsp; &nbsp; 私有方法 $this-&gt;foo();<br></p><p>&nbsp; &nbsp; 私有静态 self::foo();<br></p><p>关于注释，为了简洁，/** 的单行注释被我改为了 //&nbsp;</p><p><br></p>					<hr class="horizonal-line">
									</div>
				<div class="large-10 columns code-column code-container">
					<div class="grid" style="position: relative; height: 34531.1px;">
												<section class="cmd-description grid-item" id="cmd-app" style="position: absolute; left: 0px; top: 0px;">
							<h4><a name="app" href="#app">App</a>
							<a href="#" title="App @ ThinkPHP Docs"><i class="icon-file-text"></i></a></h4>
							<pre class="prettyprint lang-php prettyprinted"><span class="com">// 执行应用程序</span><span class="pln">
</span><span class="typ">App</span><span class="pun">::</span><span class="pln">run</span><span class="pun">(</span><span class="typ">Request</span><span class="pln"> $request </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 设置当前请求的调度信息</span><span class="pln">
</span><span class="typ">App</span><span class="pun">::</span><span class="pln">dispatch</span><span class="pun">(</span><span class="pln">$dispatch</span><span class="pun">,</span><span class="pln"> $type </span><span class="pun">=</span><span class="pln"> </span><span class="str">'module'</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 执行函数或者闭包方法 支持参数调用</span><span class="pln">
</span><span class="typ">App</span><span class="pun">::</span><span class="pln">invokeFunction</span><span class="pun">(</span><span class="pln">$function</span><span class="pun">,</span><span class="pln"> $vars </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">// 调用反射执行类的方法 支持参数绑定</span><span class="pln">
</span><span class="typ">App</span><span class="pun">::</span><span class="pln">invokeMethod</span><span class="pun">(</span><span class="pln">$method</span><span class="pun">,</span><span class="pln"> $vars </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">// 调用反射执行类的实例化 支持依赖注入</span><span class="pln">
</span><span class="typ">App</span><span class="pun">::</span><span class="pln">invokeClass</span><span class="pun">(</span><span class="pln">$class</span><span class="pun">,</span><span class="pln"> $vars </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">// 绑定参数</span><span class="pln">
</span><span class="typ">App</span><span class="pun">::</span><span class="pln">bindParams</span><span class="pun">(</span><span class="pln">$reflect</span><span class="pun">,</span><span class="pln"> $vars </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">// 执行模块</span><span class="pln">
</span><span class="typ">App</span><span class="pun">::</span><span class="kwd">module</span><span class="pun">(</span><span class="pln">$result</span><span class="pun">,</span><span class="pln"> $config</span><span class="pun">,</span><span class="pln"> $convert </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 初始化应用</span><span class="pln">
</span><span class="typ">App</span><span class="pun">::</span><span class="pln">initCommon</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 初始化应用或模块</span><span class="pln">
</span><span class="typ">App</span><span class="pun">::</span><span class="pln">init</span><span class="pun">(</span><span class="pln">$module </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">// URL路由检测（根据PATH_INFO)</span><span class="pln">
</span><span class="typ">App</span><span class="pun">::</span><span class="pln">routeCheck</span><span class="pun">(</span><span class="pln">$request</span><span class="pun">,</span><span class="pln"> array $config</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 设置应用的路由检测机制</span><span class="pln">
</span><span class="typ">App</span><span class="pun">::</span><span class="pln">route</span><span class="pun">(</span><span class="pln">$route</span><span class="pun">,</span><span class="pln"> $must </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span></pre>
						</section>
												<section class="cmd-description grid-item" id="cmd-build" style="position: absolute; left: 405px; top: 0px;">
							<h4><a name="build" href="#build">Build</a>
							<a href="http://www.kancloud.cn/manual/thinkphp5/118021" title="Build @ ThinkPHP Docs"><i class="icon-file-text"></i></a></h4>
							<pre class="prettyprint lang-php prettyprinted"><span class="com">// 根据传入的build资料创建目录和文件</span><span class="pln">
</span><span class="typ">Build</span><span class="pun">::</span><span class="pln">run</span><span class="pun">(</span><span class="pln">array $build </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $namespace </span><span class="pun">=</span><span class="pln"> </span><span class="str">'app'</span><span class="pun">,</span><span class="pln"> $suffix </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 创建目录</span><span class="pln">
</span><span class="typ">Build</span><span class="pun">::</span><span class="pln">buildDir</span><span class="pun">(</span><span class="pln">$list</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 创建文件</span><span class="pln">
</span><span class="typ">Build</span><span class="pun">::</span><span class="pln">buildFile</span><span class="pun">(</span><span class="pln">$list</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 创建模块</span><span class="pln">
</span><span class="typ">Build</span><span class="pun">::</span><span class="kwd">module</span><span class="pun">(</span><span class="pln">$module </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $list </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $namespace </span><span class="pun">=</span><span class="pln"> </span><span class="str">'app'</span><span class="pun">,</span><span class="pln"> $suffix </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 创建模块的欢迎页面</span><span class="pln">
</span><span class="typ">Build</span><span class="pun">::</span><span class="pln">buildHello</span><span class="pun">(</span><span class="pln">$module</span><span class="pun">,</span><span class="pln"> $namespace</span><span class="pun">,</span><span class="pln"> $suffix </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 创建模块的公共文件</span><span class="pln">
</span><span class="typ">Build</span><span class="pun">::</span><span class="pln">buildCommon</span><span class="pun">(</span><span class="pln">$module</span><span class="pun">);</span></pre>
						</section>
												<section class="cmd-description grid-item" id="cmd-cache" style="position: absolute; left: 811px; top: 0px;">
							<h4><a name="cache" href="#cache">Cache</a>
							<a href="http://www.kancloud.cn/manual/thinkphp5/118131" title="Cache @ ThinkPHP Docs"><i class="icon-file-text"></i></a></h4>
							<pre class="prettyprint lang-php prettyprinted"><span class="com">// 连接缓存</span><span class="pln">
</span><span class="typ">Cache</span><span class="pun">::</span><span class="pln">connect</span><span class="pun">(</span><span class="pln">array $options </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $name </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 自动初始化缓存</span><span class="pln">
</span><span class="typ">Cache</span><span class="pun">::</span><span class="pln">init</span><span class="pun">(</span><span class="pln">array $options </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">// 切换缓存类型 需要配置 cache.type 为 complex</span><span class="pln">
</span><span class="typ">Cache</span><span class="pun">::</span><span class="pln">store</span><span class="pun">(</span><span class="pln">$name </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 判断缓存是否存在</span><span class="pln">
</span><span class="typ">Cache</span><span class="pun">::</span><span class="pln">has</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 读取缓存</span><span class="pln">
</span><span class="typ">Cache</span><span class="pun">::</span><span class="kwd">get</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $default </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 写入缓存</span><span class="pln">
</span><span class="typ">Cache</span><span class="pun">::</span><span class="kwd">set</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $value</span><span class="pun">,</span><span class="pln"> $expire </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 自增缓存（针对数值缓存）</span><span class="pln">
</span><span class="typ">Cache</span><span class="pun">::</span><span class="pln">inc</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $step </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 自减缓存（针对数值缓存）</span><span class="pln">
</span><span class="typ">Cache</span><span class="pun">::</span><span class="pln">dec</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $step </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 删除缓存</span><span class="pln">
</span><span class="typ">Cache</span><span class="pun">::</span><span class="pln">rm</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 清除缓存</span><span class="pln">
</span><span class="typ">Cache</span><span class="pun">::</span><span class="pln">clear</span><span class="pun">(</span><span class="pln">$tag </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 读取缓存并删除</span><span class="pln">
</span><span class="typ">Cache</span><span class="pun">::</span><span class="pln">pull</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 如果不存在则写入缓存</span><span class="pln">
</span><span class="typ">Cache</span><span class="pun">::</span><span class="pln">remember</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $value</span><span class="pun">,</span><span class="pln"> $expire </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 缓存标签</span><span class="pln">
</span><span class="typ">Cache</span><span class="pun">::</span><span class="pln">tag</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $keys </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $overlay </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span></pre>
						</section>
												<section class="cmd-description grid-item" id="cmd-config" style="position: absolute; left: 405px; top: 512px;">
							<h4><a name="config" href="#config">Config</a>
							<a href="http://www.kancloud.cn/manual/thinkphp5/118022" title="Config @ ThinkPHP Docs"><i class="icon-file-text"></i></a></h4>
							<pre class="prettyprint lang-php prettyprinted"><span class="com">// 解析配置文件或内容</span><span class="pln">
</span><span class="typ">Config</span><span class="pun">::</span><span class="pln">parse</span><span class="pun">(</span><span class="pln">$config</span><span class="pun">,</span><span class="pln"> $type </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $name </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $range </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 加载配置文件（PHP格式）</span><span class="pln">
</span><span class="typ">Config</span><span class="pun">::</span><span class="pln">load</span><span class="pun">(</span><span class="pln">$file</span><span class="pun">,</span><span class="pln"> $name </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $range </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 检测配置是否存在</span><span class="pln">
</span><span class="typ">Config</span><span class="pun">::</span><span class="pln">has</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $range </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 获取配置参数 为空则获取所有配置</span><span class="pln">
</span><span class="typ">Config</span><span class="pun">::</span><span class="kwd">get</span><span class="pun">(</span><span class="pln">$name </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $range </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 设置配置参数 name为数组则为批量设置</span><span class="pln">
</span><span class="typ">Config</span><span class="pun">::</span><span class="kwd">set</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $value </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $range </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 重置配置参数</span><span class="pln">
</span><span class="typ">Config</span><span class="pun">::</span><span class="pln">reset</span><span class="pun">(</span><span class="pln">$range </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span></pre>
						</section>
												<section class="cmd-description grid-item" id="cmd-controller" style="position: absolute; left: 0px; top: 792px;">
							<h4><a name="controller" href="#controller">Controller</a>
							<a href="http://www.kancloud.cn/manual/thinkphp5/118047" title="Controller @ ThinkPHP Docs"><i class="icon-file-text"></i></a></h4>
							<pre class="prettyprint lang-php prettyprinted"><span class="pln">$controller </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> think\Controller</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 前置操作</span><span class="pln">
$controller</span><span class="pun">-&gt;</span><span class="pln">beforeAction</span><span class="pun">(</span><span class="pln">$method</span><span class="pun">,</span><span class="pln"> $options </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">// 加载模板输出</span><span class="pln">
$controller</span><span class="pun">-&gt;</span><span class="pln">fetch</span><span class="pun">(</span><span class="pln">$template </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $vars </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $replace </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $config </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">// 渲染内容输出</span><span class="pln">
$controller</span><span class="pun">-&gt;</span><span class="pln">display</span><span class="pun">(</span><span class="pln">$content </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $vars </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $replace </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $config </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">// 模板变量赋值</span><span class="pln">
$controller</span><span class="pun">-&gt;</span><span class="pln">assign</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $value </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 初始化模板引擎</span><span class="pln">
$controller</span><span class="pun">-&gt;</span><span class="pln">engine</span><span class="pun">(</span><span class="pln">$engine</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 设置验证失败后是否抛出异常</span><span class="pln">
$controller</span><span class="pun">-&gt;</span><span class="pln">validateFailException</span><span class="pun">(</span><span class="pln">$fail </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 验证数据</span><span class="pln">
$controller</span><span class="pun">-&gt;</span><span class="pln">validate</span><span class="pun">(</span><span class="pln">$data</span><span class="pun">,</span><span class="pln"> $validate</span><span class="pun">,</span><span class="pln"> $message </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $batch </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> $callback </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span></pre>
						</section>
												<section class="cmd-description grid-item" id="cmd-console" style="position: absolute; left: 811px; top: 965px;">
							<h4><a name="console" href="#console">Console</a>
							<a href="http://www.kancloud.cn/manual/thinkphp5/122951" title="Console @ ThinkPHP Docs"><i class="icon-file-text"></i></a></h4>
							<pre class="prettyprint lang-php prettyprinted"><span class="typ">Console</span><span class="pun">::</span><span class="pln">init</span><span class="pun">(</span><span class="pln">$run </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span><span class="pln">

</span><span class="typ">Console</span><span class="pun">::</span><span class="pln">call</span><span class="pun">(</span><span class="pln">$command</span><span class="pun">,</span><span class="pln"> array $parameters </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $driver </span><span class="pun">=</span><span class="pln"> </span><span class="str">'buffer'</span><span class="pun">);</span><span class="pln">

$console </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> think\Console</span><span class="pun">();</span><span class="pln">
</span><span class="com">// 执行当前的指令</span><span class="pln">
$console</span><span class="pun">-&gt;</span><span class="pln">run</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 执行指令</span><span class="pln">
$console</span><span class="pun">-&gt;</span><span class="pln">doRun</span><span class="pun">(</span><span class="typ">Input</span><span class="pln"> $input</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Output</span><span class="pln"> $output</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 设置输入参数定义</span><span class="pln">
$console</span><span class="pun">-&gt;</span><span class="pln">setDefinition</span><span class="pun">(</span><span class="typ">InputDefinition</span><span class="pln"> $definition</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 获取输入参数定义</span><span class="pln">
$console</span><span class="pun">-&gt;</span><span class="pln">getDefinition</span><span class="pun">();</span><span class="pln">

</span><span class="com">// Gets the help message.</span><span class="pln">
$console</span><span class="pun">-&gt;</span><span class="pln">getHelp</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 是否捕获异常</span><span class="pln">
$console</span><span class="pun">-&gt;</span><span class="pln">setCatchExceptions</span><span class="pun">(</span><span class="pln">$boolean</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 是否自动退出</span><span class="pln">
$console</span><span class="pun">-&gt;</span><span class="pln">setAutoExit</span><span class="pun">(</span><span class="pln">$boolean</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 获取名称</span><span class="pln">
$console</span><span class="pun">-&gt;</span><span class="pln">getName</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 设置名称</span><span class="pln">
$console</span><span class="pun">-&gt;</span><span class="pln">setName</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 获取版本</span><span class="pln">
$console</span><span class="pun">-&gt;</span><span class="pln">getVersion</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 设置版本</span><span class="pln">
$console</span><span class="pun">-&gt;</span><span class="pln">setVersion</span><span class="pun">(</span><span class="pln">$version</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 获取完整的版本号</span><span class="pln">
$console</span><span class="pun">-&gt;</span><span class="pln">getLongVersion</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 注册一个指令</span><span class="pln">
$console</span><span class="pun">-&gt;</span><span class="kwd">register</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 添加指令</span><span class="pln">
$console</span><span class="pun">-&gt;</span><span class="pln">addCommands</span><span class="pun">(</span><span class="pln">array $commands</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 添加一个指令</span><span class="pln">
$console</span><span class="pun">-&gt;</span><span class="pln">add</span><span class="pun">(</span><span class="typ">Command</span><span class="pln"> $command</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 获取指令</span><span class="pln">
$console</span><span class="pun">-&gt;</span><span class="kwd">get</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 某个指令是设置默认命令否存在</span><span class="pln">
$console</span><span class="pun">-&gt;</span><span class="pln">has</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 获取所有的命名空间</span><span class="pln">
$console</span><span class="pun">-&gt;</span><span class="pln">getNamespaces</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 查找注册命名空间中的名称或缩写。</span><span class="pln">
$console</span><span class="pun">-&gt;</span><span class="pln">findNamespace</span><span class="pun">(</span><span class="pln">$namespace</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 查找指令</span><span class="pln">
$console</span><span class="pun">-&gt;</span><span class="pln">find</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 获取所有的指令</span><span class="pln">
$console</span><span class="pun">-&gt;</span><span class="pln">all</span><span class="pun">(</span><span class="pln">$namespace </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 获取可能的指令名</span><span class="pln">
</span><span class="typ">Console</span><span class="pun">::</span><span class="pln">getAbbreviations</span><span class="pun">(</span><span class="pln">$names</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 配置基于用户的参数和选项的输入和输出实例。</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">configureIO</span><span class="pun">(</span><span class="typ">Input</span><span class="pln"> $input</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Output</span><span class="pln"> $output</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 执行指令</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">doRunCommand</span><span class="pun">(</span><span class="typ">Command</span><span class="pln"> $command</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Input</span><span class="pln"> $input</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Output</span><span class="pln"> $output</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 获取指令的基础名称</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">getCommandName</span><span class="pun">(</span><span class="typ">Input</span><span class="pln"> $input</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 获取默认输入定义</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">getDefaultInputDefinition</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 设置默认命令</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">getDefaultCommands</span><span class="pun">();</span><span class="pln">

</span><span class="typ">Console</span><span class="pun">::</span><span class="pln">addDefaultCommands</span><span class="pun">(</span><span class="pln">array $classnames</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 获取可能的建议</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">getAbbreviationSuggestions</span><span class="pun">(</span><span class="pln">$abbrevs</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 返回命名空间部分</span><span class="pln">
$console</span><span class="pun">-&gt;</span><span class="pln">extractNamespace</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $limit </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 查找可替代的建议</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">findAlternatives</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $collection</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 设置默认的指令</span><span class="pln">
$console</span><span class="pun">-&gt;</span><span class="pln">setDefaultCommand</span><span class="pun">(</span><span class="pln">$commandName</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 返回所有的命名空间</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">extractAllNamespaces</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">);</span></pre>
						</section>
												<section class="cmd-description grid-item" id="cmd-file" style="position: absolute; left: 405px; top: 1002px;">
							<h4><a name="file" href="#file">File</a>
							<a href="http://www.kancloud.cn/manual/thinkphp5/155159" title="File @ ThinkPHP Docs"><i class="icon-file-text"></i></a></h4>
							<pre class="prettyprint lang-php prettyprinted"><span class="pln">$file </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">File</span><span class="pun">(</span><span class="str">'test.txt'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'a'</span><span class="pun">);</span><span class="pln">

</span><span class="com">//是否测试</span><span class="pln">
$file</span><span class="pun">-&gt;</span><span class="pln">isTest</span><span class="pun">(</span><span class="pln">$test </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 设置上传信息</span><span class="pln">
$file</span><span class="pun">-&gt;</span><span class="pln">setUploadInfo</span><span class="pun">(</span><span class="pln">$info</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 获取上传文件的信息</span><span class="pln">
$file</span><span class="pun">-&gt;</span><span class="pln">getInfo</span><span class="pun">(</span><span class="pln">$name </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 获取上传文件的文件名</span><span class="pln">
$file</span><span class="pun">-&gt;</span><span class="pln">getSaveName</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 设置上传文件的保存文件名</span><span class="pln">
$file</span><span class="pun">-&gt;</span><span class="pln">setSaveName</span><span class="pun">(</span><span class="pln">$saveName</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 获取文件的哈希散列值</span><span class="pln">
$file</span><span class="pun">-&gt;</span><span class="pln">hash</span><span class="pun">(</span><span class="pln">$type </span><span class="pun">=</span><span class="pln"> </span><span class="str">'sha1'</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 检查目录是否可写</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">checkPath</span><span class="pun">(</span><span class="pln">$path</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 获取文件类型信息</span><span class="pln">
$file</span><span class="pun">-&gt;</span><span class="pln">getMime</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 设置文件的命名规则</span><span class="pln">
$file</span><span class="pun">-&gt;</span><span class="pln">rule</span><span class="pun">(</span><span class="pln">$rule</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 设置上传文件的验证规则</span><span class="pln">
$file</span><span class="pun">-&gt;</span><span class="pln">validate</span><span class="pun">(</span><span class="pln">$rule </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">// 检测是否合法的上传文件</span><span class="pln">
$file</span><span class="pun">-&gt;</span><span class="pln">isValid</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 检测上传文件</span><span class="pln">
$file</span><span class="pun">-&gt;</span><span class="pln">check</span><span class="pun">(</span><span class="pln">$rule </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">// 检测上传文件后缀</span><span class="pln">
$file</span><span class="pun">-&gt;</span><span class="pln">checkExt</span><span class="pun">(</span><span class="pln">$ext</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 检测图像文件</span><span class="pln">
$file</span><span class="pun">-&gt;</span><span class="pln">checkImg</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 判断图像类型</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">getImageType</span><span class="pun">(</span><span class="pln">$image</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 检测上传文件大小</span><span class="pln">
$file</span><span class="pun">-&gt;</span><span class="pln">checkSize</span><span class="pun">(</span><span class="pln">$size</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 检测上传文件类型</span><span class="pln">
$file</span><span class="pun">-&gt;</span><span class="pln">checkMime</span><span class="pun">(</span><span class="pln">$mime</span><span class="pun">);</span><span class="pln">

 </span><span class="com">/**
 * 移动文件
 * @param  string           $path    保存路径
 * @param  string|bool      $savename    保存的文件名 默认自动生成
 * @param  boolean          $replace 同名文件是否覆盖
 * @return false|SplFileInfo false-失败 否则返回SplFileInfo实例
 */</span><span class="pln">
$file</span><span class="pun">-&gt;</span><span class="pln">move</span><span class="pun">(</span><span class="pln">$path</span><span class="pun">,</span><span class="pln"> $savename </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> $replace </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 获取保存文件名</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">buildSaveName</span><span class="pun">(</span><span class="pln">$savename</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 获取错误代码信息</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">error</span><span class="pun">(</span><span class="pln">$errorNo</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 获取错误信息</span><span class="pln">
$file</span><span class="pun">-&gt;</span><span class="pln">getError</span><span class="pun">();</span></pre>
						</section>
												<section class="cmd-description grid-item" id="cmd-cookie" style="position: absolute; left: 0px; top: 1477px;">
							<h4><a name="cookie" href="#cookie">Cookie</a>
							<a href="http://www.kancloud.cn/manual/thinkphp5/126167" title="Cookie @ ThinkPHP Docs"><i class="icon-file-text"></i></a></h4>
							<pre class="prettyprint lang-php prettyprinted"><span class="com">// Cookie初始化</span><span class="pln">
</span><span class="typ">Cookie</span><span class="pun">::</span><span class="pln">init</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 设置或者获取cookie作用域（前缀）</span><span class="pln">
</span><span class="typ">Cookie</span><span class="pun">::</span><span class="pln">prefix</span><span class="pun">(</span><span class="pln">$prefix </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">// Cookie 设置、获取、删除</span><span class="pln">
</span><span class="typ">Cookie</span><span class="pun">::</span><span class="kwd">set</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $value </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $option </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 永久保存Cookie数据</span><span class="pln">
</span><span class="typ">Cookie</span><span class="pun">::</span><span class="pln">forever</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $value </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $option </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 判断Cookie数据</span><span class="pln">
</span><span class="typ">Cookie</span><span class="pun">::</span><span class="pln">has</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $prefix </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">// Cookie获取</span><span class="pln">
</span><span class="typ">Cookie</span><span class="pun">::</span><span class="kwd">get</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $prefix </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">// Cookie删除</span><span class="pln">
</span><span class="typ">Cookie</span><span class="pun">::</span><span class="kwd">delete</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $prefix </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">// Cookie清空</span><span class="pln">
</span><span class="typ">Cookie</span><span class="pun">::</span><span class="pln">clear</span><span class="pun">(</span><span class="pln">$prefix </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="typ">Cookie</span><span class="pun">::</span><span class="pln">jsonFormatProtect</span><span class="pun">(&amp;</span><span class="pln">$val</span><span class="pun">,</span><span class="pln"> $key</span><span class="pun">,</span><span class="pln"> $type </span><span class="pun">=</span><span class="pln"> </span><span class="str">'encode'</span><span class="pun">);</span></pre>
						</section>
												<section class="cmd-description grid-item" id="cmd-db" style="position: absolute; left: 0px; top: 2162px;">
							<h4><a name="db" href="#db">Db</a>
							<a href="http://www.kancloud.cn/manual/thinkphp5/118058" title="Db @ ThinkPHP Docs"><i class="icon-file-text"></i></a></h4>
							<pre class="prettyprint lang-php prettyprinted"><span class="com">// 数据库初始化 并取得数据库类实例</span><span class="pln">
</span><span class="typ">Db</span><span class="pun">::</span><span class="pln">connect</span><span class="pun">(</span><span class="pln">$config </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $name </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 数据库连接参数解析</span><span class="pln">
</span><span class="typ">Db</span><span class="pun">::</span><span class="pln">parseConfig</span><span class="pun">(</span><span class="pln">$config</span><span class="pun">);</span><span class="pln">

</span><span class="com">// DSN解析</span><span class="pln">
</span><span class="com">// 格式： mysql://username:passwd@localhost:3306/DbName?param1=val1¶m2=val2#utf8</span><span class="pln">
</span><span class="typ">Db</span><span class="pun">::</span><span class="pln">parseDsn</span><span class="pun">(</span><span class="pln">$dsnStr</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 调用驱动类的方法</span><span class="pln">
</span><span class="typ">Db</span><span class="pun">::</span><span class="pln">__callStatic</span><span class="pun">(</span><span class="pln">$method</span><span class="pun">,</span><span class="pln"> $params</span><span class="pun">);</span></pre>
						</section>
												<section class="cmd-description grid-item" id="cmd-debug" style="position: absolute; left: 0px; top: 2545px;">
							<h4><a name="debug" href="#debug">Debug</a>
							<a href="http://www.kancloud.cn/manual/thinkphp5/118134" title="Debug @ ThinkPHP Docs"><i class="icon-file-text"></i></a></h4>
							<pre class="prettyprint lang-php prettyprinted"><span class="com">// 记录时间（微秒）和内存使用情况</span><span class="pln">
</span><span class="typ">Debug</span><span class="pun">::</span><span class="pln">remark</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $value </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 统计某个区间的时间（微秒）使用情况</span><span class="pln">
</span><span class="typ">Debug</span><span class="pun">::</span><span class="pln">getRangeTime</span><span class="pun">(</span><span class="pln">$start</span><span class="pun">,</span><span class="pln"> $end</span><span class="pun">,</span><span class="pln"> $dec </span><span class="pun">=</span><span class="pln"> </span><span class="lit">6</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 统计从开始到统计时的时间（微秒）使用情况</span><span class="pln">
</span><span class="typ">Debug</span><span class="pun">::</span><span class="pln">getUseTime</span><span class="pun">(</span><span class="pln">$dec </span><span class="pun">=</span><span class="pln"> </span><span class="lit">6</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 获取当前访问的吞吐率情况</span><span class="pln">
</span><span class="typ">Debug</span><span class="pun">::</span><span class="pln">getThroughputRate</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 记录区间的内存使用情况</span><span class="pln">
</span><span class="typ">Debug</span><span class="pun">::</span><span class="pln">getRangeMem</span><span class="pun">(</span><span class="pln">$start</span><span class="pun">,</span><span class="pln"> $end</span><span class="pun">,</span><span class="pln"> $dec </span><span class="pun">=</span><span class="pln"> </span><span class="lit">2</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 统计从开始到统计时的内存使用情况</span><span class="pln">
</span><span class="typ">Debug</span><span class="pun">::</span><span class="pln">getUseMem</span><span class="pun">(</span><span class="pln">$dec </span><span class="pun">=</span><span class="pln"> </span><span class="lit">2</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 统计区间的内存峰值情况</span><span class="pln">
</span><span class="typ">Debug</span><span class="pun">::</span><span class="pln">getMemPeak</span><span class="pun">(</span><span class="pln">$start</span><span class="pun">,</span><span class="pln"> $end</span><span class="pun">,</span><span class="pln"> $dec </span><span class="pun">=</span><span class="pln"> </span><span class="lit">2</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 获取文件加载信息</span><span class="pln">
</span><span class="typ">Debug</span><span class="pun">::</span><span class="pln">getFile</span><span class="pun">(</span><span class="pln">$detail </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 浏览器友好的变量输出</span><span class="pln">
</span><span class="typ">Debug</span><span class="pun">::</span><span class="kwd">dump</span><span class="pun">(</span><span class="pln">$var</span><span class="pun">,</span><span class="pln"> $echo </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> $label </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $flags </span><span class="pun">=</span><span class="pln"> ENT_SUBSTITUTE</span><span class="pun">);</span><span class="pln">

</span><span class="typ">Debug</span><span class="pun">::</span><span class="pln">inject</span><span class="pun">(</span><span class="typ">Response</span><span class="pln"> $response</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">$content</span><span class="pun">);</span></pre>
						</section>
												<section class="cmd-description grid-item" id="cmd-exception" style="position: absolute; left: 405px; top: 2702px;">
							<h4><a name="exception" href="#exception">Exception</a>
							<a href="http://www.kancloud.cn/manual/thinkphp5/126075" title="Exception @ ThinkPHP Docs"><i class="icon-file-text"></i></a></h4>
							<pre class="prettyprint lang-php prettyprinted"><span class="com">/**
 * 设置异常额外的Debug数据
 * 数据将会显示为下面的格式
 *
 * Exception Data
 * --------------------------------------------------
 * Label 1
 *   key1      value1
 *   key2      value2
 * Label 2
 *   key1      value1
 *   key2      value2
 *
 * @param string $label 数据分类，用于异常页面显示
 * @param array  $data  需要显示的数据，必须为关联数组
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">setData</span><span class="pun">(</span><span class="pln">$label</span><span class="pun">,</span><span class="pln"> array $data</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 获取异常额外Debug数据
 * 主要用于输出到异常页面便于调试
 * @return array 由setData设置的Debug数据
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">getData</span><span class="pun">();</span></pre>
						</section>
												<section class="cmd-description grid-item" id="cmd-env" style="position: absolute; left: 0px; top: 3251px;">
							<h4><a name="env" href="#env">Env</a>
							<a href="http://www.kancloud.cn/manual/thinkphp5/189989" title="Env @ ThinkPHP Docs"><i class="icon-file-text"></i></a></h4>
							<pre class="prettyprint lang-php prettyprinted"><span class="com">// 获取环境变量值</span><span class="pln">
</span><span class="typ">Env</span><span class="pun">::</span><span class="kwd">get</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $default </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span></pre>
						</section>
												<section class="cmd-description grid-item" id="cmd-hook" style="position: absolute; left: 405px; top: 3365px;">
							<h4><a name="hook" href="#hook">Hook</a>
							<a href="http://www.kancloud.cn/manual/thinkphp5/118130" title="Hook @ ThinkPHP Docs"><i class="icon-file-text"></i></a></h4>
							<pre class="prettyprint lang-php prettyprinted"><span class="com">/**
 * 动态添加行为扩展到某个标签
 * @param string    $tag 标签名称
 * @param mixed     $behavior 行为名称
 * @param bool      $first 是否放到开头执行
 * @return void
 */</span><span class="pln">
</span><span class="typ">Hook</span><span class="pun">::</span><span class="pln">add</span><span class="pun">(</span><span class="pln">$tag</span><span class="pun">,</span><span class="pln"> $behavior</span><span class="pun">,</span><span class="pln"> $first </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 批量导入插件
 * @param array        $tags 插件信息
 * @param boolean     $recursive 是否递归合并
 */</span><span class="pln">
</span><span class="typ">Hook</span><span class="pun">::</span><span class="kwd">import</span><span class="pun">(</span><span class="pln">array $tags</span><span class="pun">,</span><span class="pln"> $recursive </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span><span class="pln">

 </span><span class="com">/**
 * 获取插件信息
 * @param string $tag 插件位置 留空获取全部
 * @return array
 */</span><span class="pln">
 </span><span class="typ">Hook</span><span class="pun">::</span><span class="kwd">get</span><span class="pun">(</span><span class="pln">$tag </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

 </span><span class="com">/**
 * 监听标签的行为
 * @param string $tag    标签名称
 * @param mixed  $params 传入参数
 * @param mixed  $extra  额外参数
 * @param bool   $once   只获取一个有效返回值
 * @return mixed
 */</span><span class="pln">
</span><span class="typ">Hook</span><span class="pun">::</span><span class="pln">listen</span><span class="pun">(</span><span class="pln">$tag</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">$params </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $extra </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $once </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 执行某个行为
 * @param mixed     $class 要执行的行为
 * @param string    $tag 方法名（标签名）
 * @param Mixed     $params 传人的参数
 * @param mixed     $extra 额外参数
 * @return mixed
 */</span><span class="pln">
</span><span class="typ">Hook</span><span class="pun">::</span><span class="kwd">exec</span><span class="pun">(</span><span class="pln">$class</span><span class="pun">,</span><span class="pln"> $tag </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">$params </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $extra </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span></pre>
						</section>
												<section class="cmd-description grid-item" id="cmd-helper" style="position: absolute; left: 0px; top: 3374px;">
							<h4><a name="helper" href="#helper">Helper</a>
							<a href="http://www.kancloud.cn/manual/thinkphp5/144731" title="Helper @ ThinkPHP Docs"><i class="icon-file-text"></i></a></h4>
							<pre class="prettyprint lang-php prettyprinted"><span class="com">// 快速导入Traits PHP5.5以上无需调用</span><span class="pln">
load_trait</span><span class="pun">(</span><span class="pln">$class</span><span class="pun">,</span><span class="pln"> $ext </span><span class="pun">=</span><span class="pln"> EXT</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 抛出异常处理</span><span class="pln">
exception</span><span class="pun">(</span><span class="pln">$msg</span><span class="pun">,</span><span class="pln"> $code </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> $exception </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 记录时间（微秒）和内存使用情况
 * @param string            $start 开始标签
 * @param string            $end 结束标签
 * @param integer|string    $dec 小数位 如果是m 表示统计内存占用
 * @return mixed
 */</span><span class="pln">
debug</span><span class="pun">(</span><span class="pln">$start</span><span class="pun">,</span><span class="pln"> $end </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $dec </span><span class="pun">=</span><span class="pln"> </span><span class="lit">6</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 获取语言变量值
 * @param string    $name 语言变量名
 * @param array     $vars 动态变量值
 * @param string    $lang 语言
 * @return mixed
 */</span><span class="pln">
lang</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $vars </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $lang </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 获取和设置配置参数
 * @param string|array  $name 参数名
 * @param mixed         $value 参数值
 * @param string        $range 作用域
 * @return mixed
 */</span><span class="pln">
config</span><span class="pun">(</span><span class="pln">$name </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $value </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $range </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 获取输入数据 支持默认值和过滤
 * @param string    $key 获取的变量名
 * @param mixed     $default 默认值
 * @param string    $filter 过滤方法
 * @return mixed
 */</span><span class="pln">
input</span><span class="pun">(</span><span class="pln">$key </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $default </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $filter </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 渲染输出Widget
 * @param string    $name Widget名称
 * @param array     $data 传入的参数
 * @return mixed
 *
widget($name, $data = []);

/**
 * 实例化Model
 * @param string    $name Model名称
 * @param string    $layer 业务层名称
 * @param bool      $appendSuffix 是否添加类名后缀
 * @return \think\Model
 */</span><span class="pln">
model</span><span class="pun">(</span><span class="pln">$name </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $layer </span><span class="pun">=</span><span class="pln"> </span><span class="str">'model'</span><span class="pun">,</span><span class="pln"> $appendSuffix </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 实例化验证器
 * @param string    $name 验证器名称
 * @param string    $layer 业务层名称
 * @param bool      $appendSuffix 是否添加类名后缀
 * @return \think\Validate
 */</span><span class="pln">
validate</span><span class="pun">(</span><span class="pln">$name </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $layer </span><span class="pun">=</span><span class="pln"> </span><span class="str">'validate'</span><span class="pun">,</span><span class="pln"> $appendSuffix </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 实例化数据库类
 * @param string        $name 操作的数据表名称（不含前缀）
 * @param array|string  $config 数据库配置参数
 * @param bool          $force 是否强制重新连接
 * @return \think\db\Query
 */</span><span class="pln">
db</span><span class="pun">(</span><span class="pln">$name </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $config </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $force </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 实例化控制器 格式：[模块/]控制器
 * @param string    $name 资源地址
 * @param string    $layer 控制层名称
 * @param bool      $appendSuffix 是否添加类名后缀
 * @return \think\Controller
 */</span><span class="pln">
controller</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $layer </span><span class="pun">=</span><span class="pln"> </span><span class="str">'controller'</span><span class="pun">,</span><span class="pln"> $appendSuffix </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 调用模块的操作方法 参数格式 [模块/控制器/]操作
 * @param string        $url 调用地址
 * @param string|array  $vars 调用参数 支持字符串和数组
 * @param string        $layer 要调用的控制层名称
 * @param bool          $appendSuffix 是否添加类名后缀
 * @return mixed
 */</span><span class="pln">
action</span><span class="pun">(</span><span class="pln">$url</span><span class="pun">,</span><span class="pln"> $vars </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $layer </span><span class="pun">=</span><span class="pln"> </span><span class="str">'controller'</span><span class="pun">,</span><span class="pln"> $appendSuffix </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 导入所需的类库 同java的Import 本函数有缓存功能
 * @param string    $class 类库命名空间字符串
 * @param string    $baseUrl 起始路径
 * @param string    $ext 导入的文件扩展名
 * @return boolean
 */</span><span class="pln">
</span><span class="kwd">import</span><span class="pun">(</span><span class="pln">$class</span><span class="pun">,</span><span class="pln"> $baseUrl </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $ext </span><span class="pun">=</span><span class="pln"> EXT</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 快速导入第三方框架类库 所有第三方框架的类库文件统一放到 系统的Vendor目录下面
 * @param string    $class 类库
 * @param string    $ext 类库后缀
 * @return boolean
 */</span><span class="pln">
vendor</span><span class="pun">(</span><span class="pln">$class</span><span class="pun">,</span><span class="pln"> $ext </span><span class="pun">=</span><span class="pln"> EXT</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 浏览器友好的变量输出
 * @param mixed     $var 变量
 * @param boolean   $echo 是否输出 默认为true 如果为false 则返回输出字符串
 * @param string    $label 标签 默认为空
 * @return void|string
 */</span><span class="pln">
</span><span class="kwd">dump</span><span class="pun">(</span><span class="pln">$var</span><span class="pun">,</span><span class="pln"> $echo </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> $label </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * Url生成
 * @param string        $url 路由地址
 * @param string|array  $vars 变量
 * @param bool|string   $suffix 生成的URL后缀
 * @param bool|string   $domain 域名
 * @return string
 */</span><span class="pln">
url</span><span class="pun">(</span><span class="pln">$url </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $vars </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $suffix </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> $domain </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * Session管理
 * @param string|array  $name session名称，如果为数组表示进行session设置
 * @param mixed         $value session值
 * @param string        $prefix 前缀
 * @return mixed
 */</span><span class="pln">
session</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $value </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $prefix </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * Cookie管理
 * @param string|array  $name cookie名称，如果为数组表示进行cookie设置
 * @param mixed         $value cookie值
 * @param mixed         $option 参数
 * @return mixed
 */</span><span class="pln">
cookie</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $value </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $option </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 缓存管理
 * @param mixed     $name 缓存名称，如果为数组表示进行缓存设置
 * @param mixed     $value 缓存值
 * @param mixed     $options 缓存参数
 * @param string    $tag 缓存标签
 * @return mixed
 */</span><span class="pln">
cache</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $value </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $options </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $tag </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 记录日志信息
 * @param mixed     $log log信息 支持字符串和数组
 * @param string    $level 日志级别
 * @return void|array
 */</span><span class="pln">
trace</span><span class="pun">(</span><span class="pln">$log </span><span class="pun">=</span><span class="pln"> </span><span class="str">'[think]'</span><span class="pun">,</span><span class="pln"> $level </span><span class="pun">=</span><span class="pln"> </span><span class="str">'log'</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 获取当前Request对象实例</span><span class="pln">
request</span><span class="pun">();</span><span class="pln">

</span><span class="com">/**
 * 创建普通 Response 对象实例
 * @param mixed      $data   输出数据
 * @param int|string $code   状态码
 * @param array      $header 头信息
 * @param string     $type
 * @return Response
 */</span><span class="pln">
response</span><span class="pun">(</span><span class="pln">$data </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $code </span><span class="pun">=</span><span class="pln"> </span><span class="lit">200</span><span class="pun">,</span><span class="pln"> $header </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $type </span><span class="pun">=</span><span class="pln"> </span><span class="str">'html'</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 渲染模板输出
 * @param string    $template 模板文件
 * @param array     $vars 模板变量
 * @param array     $replace 模板替换
 * @param integer   $code 状态码
 * @return \think\response\View
 */</span><span class="pln">
view</span><span class="pun">(</span><span class="pln">$template </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $vars </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $replace </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $code </span><span class="pun">=</span><span class="pln"> </span><span class="lit">200</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 获取\think\response\Json对象实例
 * @param mixed   $data 返回的数据
 * @param integer $code 状态码
 * @param array   $header 头部
 * @param array   $options 参数
 * @return \think\response\Json
 */</span><span class="pln">
json</span><span class="pun">(</span><span class="pln">$data </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $code </span><span class="pun">=</span><span class="pln"> </span><span class="lit">200</span><span class="pun">,</span><span class="pln"> $header </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $options </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 获取\think\response\Jsonp对象实例
 * @param mixed   $data    返回的数据
 * @param integer $code    状态码
 * @param array   $header 头部
 * @param array   $options 参数
 * @return \think\response\Jsonp
 */</span><span class="pln">
jsonp</span><span class="pun">(</span><span class="pln">$data </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $code </span><span class="pun">=</span><span class="pln"> </span><span class="lit">200</span><span class="pun">,</span><span class="pln"> $header </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $options </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 获取\think\response\Xml对象实例
 * @param mixed   $data    返回的数据
 * @param integer $code    状态码
 * @param array   $header  头部
 * @param array   $options 参数
 * @return \think\response\Xml
 */</span><span class="pln">
xml</span><span class="pun">(</span><span class="pln">$data </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $code </span><span class="pun">=</span><span class="pln"> </span><span class="lit">200</span><span class="pun">,</span><span class="pln"> $header </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $options </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 获取\think\response\Redirect对象实例
 * @param mixed         $url 重定向地址 支持Url::build方法的地址
 * @param array|integer $params 额外参数
 * @param integer       $code 状态码
 * @param array         $with 隐式传参
 * @return \think\response\Redirect
 */</span><span class="pln">
redirect</span><span class="pun">(</span><span class="pln">$url </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $params </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $code </span><span class="pun">=</span><span class="pln"> </span><span class="lit">302</span><span class="pun">,</span><span class="pln"> $with </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 抛出HTTP异常
 * @param integer|Response      $code 状态码 或者 Response对象实例
 * @param string                $message 错误信息
 * @param array                 $header 参数
 */</span><span class="pln">
abort</span><span class="pun">(</span><span class="pln">$code</span><span class="pun">,</span><span class="pln"> $message </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $header </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">// 调试变量并且中断输出</span><span class="pln">
halt</span><span class="pun">(</span><span class="pln">$var</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 生成表单令牌
 * @param string $name 令牌名称
 * @param mixed  $type 令牌生成方法
 * @return string
 */</span><span class="pln">
token</span><span class="pun">(</span><span class="pln">$name </span><span class="pun">=</span><span class="pln"> </span><span class="str">'__token__'</span><span class="pun">,</span><span class="pln"> $type </span><span class="pun">=</span><span class="pln"> </span><span class="str">'md5'</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 延迟预载入关联查询
 * @param mixed $resultSet 数据集
 * @param mixed $relation 关联
 * @return array
 */</span><span class="pln">
load_relation</span><span class="pun">(</span><span class="pln">$resultSet</span><span class="pun">,</span><span class="pln"> $relation</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 数组转换为数据集对象</span><span class="pln">
collection</span><span class="pun">(</span><span class="pln">$resultSet</span><span class="pun">);</span></pre>
						</section>
												<section class="cmd-description grid-item" id="cmd-lang" style="position: absolute; left: 811px; top: 3378px;">
							<h4><a name="lang" href="#lang">Lang</a>
							<a href="http://www.kancloud.cn/manual/thinkphp5/118132" title="Lang @ ThinkPHP Docs"><i class="icon-file-text"></i></a></h4>
							<pre class="prettyprint lang-php prettyprinted"><span class="com">/**
 * 设置语言定义(不区分大小写)
 * @param string|array  $name 语言变量
 * @param string        $value 语言值
 * @param string        $range 语言作用域
 * @return mixed
 */</span><span class="pln">
</span><span class="typ">Lang</span><span class="pun">::</span><span class="kwd">set</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $value </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $range </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 加载语言定义(不区分大小写)
 * @param string $file 语言文件
 * @param string $range 语言作用域
 * @return mixed
 *
 Lang::load($file, $range = '');

 /**
 * 获取语言定义(不区分大小写)
 * @param string|null   $name 语言变量
 * @param array         $vars 变量替换
 * @param string        $range 语言作用域
 * @return mixed
 */</span><span class="pln">
</span><span class="typ">Lang</span><span class="pun">::</span><span class="pln">has</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $range </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 获取语言定义(不区分大小写)
 * @param string|null   $name 语言变量
 * @param array         $vars 变量替换
 * @param string        $range 语言作用域
 * @return mixed
 */</span><span class="pln">
</span><span class="typ">Lang</span><span class="pun">::</span><span class="kwd">get</span><span class="pun">(</span><span class="pln">$name </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $vars </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $range </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 自动侦测设置获取语言选择</span><span class="pln">
</span><span class="typ">Lang</span><span class="pun">::</span><span class="pln">detect</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 设置语言自动侦测的变量</span><span class="pln">
</span><span class="typ">Lang</span><span class="pun">::</span><span class="pln">setLangDetectVar</span><span class="pun">(</span><span class="pln">$var</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 设置语言的cookie保存变量</span><span class="pln">
</span><span class="typ">Lang</span><span class="pun">::</span><span class="pln">setLangCookieVar</span><span class="pun">(</span><span class="pln">$var</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 设置语言的cookie的过期时间</span><span class="pln">
</span><span class="typ">Lang</span><span class="pun">::</span><span class="pln">setLangCookieExpire</span><span class="pun">(</span><span class="pln">$expire</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 设置允许的语言列表</span><span class="pln">
</span><span class="typ">Lang</span><span class="pun">::</span><span class="pln">setAllowLangList</span><span class="pun">(</span><span class="pln">$list</span><span class="pun">);</span></pre>
						</section>
												<section class="cmd-description grid-item" id="cmd-loader" style="position: absolute; left: 405px; top: 4439px;">
							<h4><a name="loader" href="#loader">Loader</a>
							<a href="http://www.kancloud.cn/manual/thinkphp5/118015" title="Loader @ ThinkPHP Docs"><i class="icon-file-text"></i></a></h4>
							<pre class="prettyprint lang-php prettyprinted"><span class="com">// 自动加载</span><span class="pln">
</span><span class="typ">Loader</span><span class="pun">::</span><span class="pln">autoload</span><span class="pun">(</span><span class="pln">$class</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 查找文件</span><span class="pln">
</span><span class="typ">Loader</span><span class="pun">::</span><span class="pln">findFile</span><span class="pun">(</span><span class="pln">$class</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 注册classmap</span><span class="pln">
</span><span class="typ">Loader</span><span class="pun">::</span><span class="pln">addClassMap</span><span class="pun">(</span><span class="pln">$class</span><span class="pun">,</span><span class="pln"> $map </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 注册命名空间</span><span class="pln">
</span><span class="typ">Loader</span><span class="pun">::</span><span class="pln">addNamespace</span><span class="pun">(</span><span class="pln">$namespace</span><span class="pun">,</span><span class="pln"> $path </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 添加Ps0空间</span><span class="pln">
</span><span class="typ">Loader</span><span class="pun">::</span><span class="pln">addPsr0</span><span class="pun">(</span><span class="pln">$prefix</span><span class="pun">,</span><span class="pln"> $paths</span><span class="pun">,</span><span class="pln"> $prepend </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 添加Psr4空间</span><span class="pln">
</span><span class="typ">Loader</span><span class="pun">::</span><span class="pln">addPsr4</span><span class="pun">(</span><span class="pln">$prefix</span><span class="pun">,</span><span class="pln"> $paths</span><span class="pun">,</span><span class="pln"> $prepend </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 注册命名空间别名</span><span class="pln">
</span><span class="typ">Loader</span><span class="pun">::</span><span class="pln">addNamespaceAlias</span><span class="pun">(</span><span class="pln">$namespace</span><span class="pun">,</span><span class="pln"> $original </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 注册自动加载机制</span><span class="pln">
</span><span class="typ">Loader</span><span class="pun">::</span><span class="kwd">register</span><span class="pun">(</span><span class="pln">$autoload </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 注册composer自动加载</span><span class="pln">
</span><span class="typ">Loader</span><span class="pun">::</span><span class="pln">registerComposerLoader</span><span class="pun">();</span><span class="pln">

</span><span class="com">/**
 * 导入所需的类库 同java的Import 本函数有缓存功能
 * @param string $class   类库命名空间字符串
 * @param string $baseUrl 起始路径
 * @param string $ext     导入的文件扩展名
 * @return boolean
 */</span><span class="pln">
</span><span class="typ">Loader</span><span class="pun">::</span><span class="kwd">import</span><span class="pun">(</span><span class="pln">$class</span><span class="pun">,</span><span class="pln"> $baseUrl </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $ext </span><span class="pun">=</span><span class="pln"> EXT</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 实例化（分层）模型
 * @param string $name         Model名称
 * @param string $layer        业务层名称
 * @param bool   $appendSuffix 是否添加类名后缀
 * @param string $common       公共模块名
 * @return Object
 * @throws ClassNotFoundException
 */</span><span class="pln">
</span><span class="typ">Loader</span><span class="pun">::</span><span class="pln">model</span><span class="pun">(</span><span class="pln">$name </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $layer </span><span class="pun">=</span><span class="pln"> </span><span class="str">'model'</span><span class="pun">,</span><span class="pln"> $appendSuffix </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> $common </span><span class="pun">=</span><span class="pln"> </span><span class="str">'common'</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 实例化（分层）控制器 格式：[模块名/]控制器名
 * @param string $name         资源地址
 * @param string $layer        控制层名称
 * @param bool   $appendSuffix 是否添加类名后缀
 * @param string $empty        空控制器名称
 * @return Object|false
 * @throws ClassNotFoundException
 */</span><span class="pln">
</span><span class="typ">Loader</span><span class="pun">::</span><span class="pln">controller</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $layer </span><span class="pun">=</span><span class="pln"> </span><span class="str">'controller'</span><span class="pun">,</span><span class="pln"> $appendSuffix </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> $empty </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 实例化验证类 格式：[模块名/]验证器名
 * @param string $name         资源地址
 * @param string $layer        验证层名称
 * @param bool   $appendSuffix 是否添加类名后缀
 * @param string $common       公共模块名
 * @return Object|false
 * @throws ClassNotFoundException
 */</span><span class="pln">
</span><span class="typ">Loader</span><span class="pun">::</span><span class="pln">validate</span><span class="pun">(</span><span class="pln">$name </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $layer </span><span class="pun">=</span><span class="pln"> </span><span class="str">'validate'</span><span class="pun">,</span><span class="pln"> $appendSuffix </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> $common </span><span class="pun">=</span><span class="pln"> </span><span class="str">'common'</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 数据库初始化 并取得数据库类实例
 * @param mixed         $config 数据库配置
 * @param bool|string   $name 连接标识 true 强制重新连接
 * @return \think\db\Connection
 */</span><span class="pln">
</span><span class="typ">Loader</span><span class="pun">::</span><span class="pln">db</span><span class="pun">(</span><span class="pln">$config </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $name </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 远程调用模块的操作方法 参数格式 [模块/控制器/]操作
 * @param string       $url          调用地址
 * @param string|array $vars         调用参数 支持字符串和数组
 * @param string       $layer        要调用的控制层名称
 * @param bool         $appendSuffix 是否添加类名后缀
 * @return mixed
 */</span><span class="pln">
</span><span class="typ">Loader</span><span class="pun">::</span><span class="pln">action</span><span class="pun">(</span><span class="pln">$url</span><span class="pun">,</span><span class="pln"> $vars </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $layer </span><span class="pun">=</span><span class="pln"> </span><span class="str">'controller'</span><span class="pun">,</span><span class="pln"> $appendSuffix </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 字符串命名风格转换
 * type 0 将Java风格转换为C的风格 1 将C风格转换为Java的风格
 * @param string  $name 字符串
 * @param integer $type 转换类型
 * @param bool    $ucfirst 首字母是否大写（驼峰规则）
 * @return string
 */</span><span class="pln">
</span><span class="typ">Loader</span><span class="pun">::</span><span class="pln">parseName</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $type </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> $ucfirst </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 解析应用类的类名
 * @param string $module 模块名
 * @param string $layer  层名 controller model ...
 * @param string $name   类名
 * @param bool   $appendSuffix
 * @return string
 */</span><span class="pln">
</span><span class="typ">Loader</span><span class="pun">::</span><span class="pln">parseClass</span><span class="pun">(</span><span class="pln">$module</span><span class="pun">,</span><span class="pln"> $layer</span><span class="pun">,</span><span class="pln"> $name</span><span class="pun">,</span><span class="pln"> $appendSuffix </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 初始化类的实例
 * @return void
 */</span><span class="pln">
</span><span class="typ">Loader</span><span class="pun">::</span><span class="pln">clearInstance</span><span class="pun">();</span><span class="pln">

</span><span class="com">/**
 * 作用范围隔离
 *
 * @param $file
 * @return mixed
 */</span><span class="pln">
__include_file</span><span class="pun">();</span><span class="pln">

__require_file</span><span class="pun">(</span><span class="pln">$file</span><span class="pun">);</span></pre>
						</section>
												<section class="cmd-description grid-item" id="cmd-log" style="position: absolute; left: 811px; top: 4538px;">
							<h4><a name="log" href="#log">Log</a>
							<a href="http://www.kancloud.cn/manual/thinkphp5/118123" title="Log @ ThinkPHP Docs"><i class="icon-file-text"></i></a></h4>
							<pre class="prettyprint lang-php prettyprinted"><span class="com">// 日志初始化</span><span class="pln">
</span><span class="typ">Log</span><span class="pun">::</span><span class="pln">init</span><span class="pun">(</span><span class="pln">$config </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">// 获取日志信息</span><span class="pln">
</span><span class="typ">Log</span><span class="pun">::</span><span class="pln">getLog</span><span class="pun">(</span><span class="pln">$type </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 记录调试信息
 * @param mixed  $msg  调试信息
 * @param string $type 信息类型
 * @return void
 */</span><span class="pln">
 </span><span class="typ">Log</span><span class="pun">::</span><span class="pln">record</span><span class="pun">(</span><span class="pln">$msg</span><span class="pun">,</span><span class="pln"> $type </span><span class="pun">=</span><span class="pln"> </span><span class="str">'log'</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 清空日志信息</span><span class="pln">
</span><span class="typ">Log</span><span class="pun">::</span><span class="pln">clear</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 当前日志记录的授权key</span><span class="pln">
</span><span class="typ">Log</span><span class="pun">::</span><span class="pln">key</span><span class="pun">(</span><span class="pln">$key</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 检查日志写入权限
 * @param array  $config  当前日志配置参数
 * @return bool
 */</span><span class="pln">
</span><span class="typ">Log</span><span class="pun">::</span><span class="pln">check</span><span class="pun">(</span><span class="pln">$config</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 保存调试信息</span><span class="pln">
</span><span class="typ">Log</span><span class="pun">::</span><span class="pln">save</span><span class="pun">();</span><span class="pln">

</span><span class="com">/**
 * 实时写入日志信息 并支持行为
 * @param mixed  $msg  调试信息
 * @param string $type 信息类型
 * @param bool   $force 是否强制写入
 * @return bool
 */</span><span class="pln">
</span><span class="typ">Log</span><span class="pun">::</span><span class="pln">write</span><span class="pun">(</span><span class="pln">$msg</span><span class="pun">,</span><span class="pln"> $type </span><span class="pun">=</span><span class="pln"> </span><span class="str">'log'</span><span class="pun">,</span><span class="pln"> $force </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 静态调用</span><span class="pln">
</span><span class="typ">Log</span><span class="pun">::</span><span class="pln">__callStatic</span><span class="pun">(</span><span class="pln">$method</span><span class="pun">,</span><span class="pln"> $args</span><span class="pun">);</span></pre>
						</section>
												<section class="cmd-description grid-item" id="cmd-model" style="position: absolute; left: 811px; top: 5525px;">
							<h4><a name="model" href="#model">Model</a>
							<a href="http://www.kancloud.cn/manual/thinkphp5/135186" title="Model @ ThinkPHP Docs"><i class="icon-file-text"></i></a></h4>
							<pre class="prettyprint lang-php prettyprinted"><span class="pln">$model </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Model</span><span class="pun">();</span><span class="pln">

</span><span class="com">/**
 * 获取当前模型的数据库查询对象
 * @access public
 * @param bool $baseQuery 是否调用全局查询范围
 * @return Query
 */</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="pln">db</span><span class="pun">(</span><span class="pln">$baseQuery </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span><span class="pln">

$this</span><span class="pun">-&gt;</span><span class="pln">initialize</span><span class="pun">();</span><span class="pln">

</span><span class="com">/**
 * 设置数据对象值
 * @access public
 * @param mixed $data  数据或者属性名
 * @param mixed $value 值
 * @return $this
 */</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="pln">data</span><span class="pun">(</span><span class="pln">$data</span><span class="pun">,</span><span class="pln"> $value </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 获取对象原始数据 如果不存在指定字段返回false
 * @access public
 * @param string $name 字段名 留空获取全部
 * @return mixed
 * @throws InvalidArgumentException
 */</span><span class="pln">
 $model</span><span class="pun">-&gt;</span><span class="pln">getData</span><span class="pun">(</span><span class="pln">$name </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

 </span><span class="com">/**
 * 修改器 设置数据对象值
 * @access public
 * @param string $name  属性名
 * @param mixed  $value 属性值
 * @param array  $data  数据
 * @return $this
 */</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="pln">setAttr</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $value</span><span class="pun">,</span><span class="pln"> $data </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 自动写入时间戳
 * @access public
 * @param string $name 时间戳字段
 * @return mixed
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">autoWriteTimestamp</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 时间日期字段格式化处理
 * @access public
 * @param mixed $time      时间日期表达式
 * @param mixed $format    日期格式
 * @param bool  $timestamp 是否进行时间戳转换
 * @return mixed
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">formatDateTime</span><span class="pun">(</span><span class="pln">$time</span><span class="pun">,</span><span class="pln"> $format</span><span class="pun">,</span><span class="pln"> $timestamp </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 数据写入 类型转换
 * @access public
 * @param mixed        $value 值
 * @param string|array $type  要转换的类型
 * @return mixed
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">writeTransform</span><span class="pun">(</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $type</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 获取器 获取数据对象的值</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="pln">getAttr</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 数据读取 类型转换
 * @access public
 * @param mixed        $value 值
 * @param string|array $type  要转换的类型
 * @return mixed
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">readTransform</span><span class="pun">(</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $type</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 设置需要追加的输出属性
 * @access public
 * @param array $append   属性列表
 * @param bool  $override 是否覆盖
 * @return $this
 */</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="pln">append</span><span class="pun">(</span><span class="pln">$append </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $override </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 设置附加关联对象的属性
 * @access public
 * @param string       $relation 关联方法
 * @param string|array $append   追加属性名
 * @return $this
 * @throws Exception
 */</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="pln">appendRelationAttr</span><span class="pun">(</span><span class="pln">$relation</span><span class="pun">,</span><span class="pln"> $append</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 设置需要隐藏的输出属性
 * @access public
 * @param array $hidden   属性列表
 * @param bool  $override 是否覆盖
 * @return $this
 */</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="pln">hidden</span><span class="pun">(</span><span class="pln">$hidden </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $override </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 设置需要输出的属性
 * @access public
 * @param array $visible
 * @param bool  $override 是否覆盖
 * @return $this
 */</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="pln">visible</span><span class="pun">(</span><span class="pln">$visible </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $override </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 解析隐藏及显示属性
 * @access protected
 * @param array $attrs  属性
 * @param array $result 结果集
 * @param bool  $visible
 * @return array
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">parseAttr</span><span class="pun">(</span><span class="pln">$attrs</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">$result</span><span class="pun">,</span><span class="pln"> $visible </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 转换子模型对象
 * @access protected
 * @param Model|ModelCollection $model
 * @param                  $visible
 * @param                  $hidden
 * @param                  $key
 * @return array
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">subToArray</span><span class="pun">(</span><span class="pln">$model</span><span class="pun">,</span><span class="pln"> $visible</span><span class="pun">,</span><span class="pln"> $hidden</span><span class="pun">,</span><span class="pln"> $key</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 转换当前模型对象为数组</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="pln">toArray</span><span class="pun">();</span><span class="pln">

</span><span class="com">/**
 * 转换当前模型对象为JSON字符串
 * @access public
 * @param integer $options json参数
 * @return string
 */</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="pln">toJson</span><span class="pun">(</span><span class="pln">$options </span><span class="pun">=</span><span class="pln"> JSON_UNESCAPED_UNICODE</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 转换当前模型数据集为数据集对象
 * @access public
 * @param array|\think\Collection $collection 数据集
 * @return \think\Collection
 */</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="pln">toCollection</span><span class="pun">(</span><span class="pln">$collection</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 关联数据一起更新
 * @access public
 * @param mixed $relation 关联
 * @return $this
 */</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="pln">together</span><span class="pun">(</span><span class="pln">$relation</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 获取模型对象的主键
 * @access public
 * @param string $name 模型名
 * @return mixed
 */</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="pln">getPk</span><span class="pun">(</span><span class="pln">$name </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 判断一个字段名是否为主键字段</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">isPk</span><span class="pun">(</span><span class="pln">$key</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 保存当前数据对象
 * @access public
 * @param array  $data     数据
 * @param array  $where    更新条件
 * @param string $sequence 自增序列名
 * @return integer|false
 */</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="pln">save</span><span class="pun">(</span><span class="pln">$data </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $where </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $sequence </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 保存多个数据到当前数据对象
 * @access public
 * @param array   $dataSet 数据
 * @param boolean $replace 是否自动识别更新和写入
 * @return array|false
 * @throws \Exception
 */</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="pln">saveAll</span><span class="pun">(</span><span class="pln">$dataSet</span><span class="pun">,</span><span class="pln"> $replace </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 设置允许写入的字段
 * @access public
 * @param mixed $field 允许写入的字段 如果为true只允许写入数据表字段
 * @return $this
 */</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="pln">allowField</span><span class="pun">(</span><span class="pln">$field</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 设置只读字段
 * @access public
 * @param mixed $field 只读字段
 * @return $this
 */</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="kwd">readonly</span><span class="pun">(</span><span class="pln">$field</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 是否为更新数据
 * @access public
 * @param bool  $update
 * @param mixed $where
 * @return $this
 */</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="pln">isUpdate</span><span class="pun">(</span><span class="pln">$update </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> $where </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 数据自动完成
 * @access public
 * @param array $auto 要自动更新的字段列表
 * @return void
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">autoCompleteData</span><span class="pun">(</span><span class="pln">$auto </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">// 删除当前的记录</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="kwd">delete</span><span class="pun">();</span><span class="pln">

</span><span class="com">/**
 * 设置自动完成的字段（ 规则通过修改器定义）
 * @access public
 * @param array $fields 需要自动完成的字段
 * @return $this
 */</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="kwd">auto</span><span class="pun">(</span><span class="pln">$fields</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 设置字段验证
 * @access public
 * @param array|string|bool $rule  验证规则 true表示自动读取验证器类
 * @param array             $msg   提示信息
 * @param bool              $batch 批量验证
 * @return $this
 */</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="pln">validate</span><span class="pun">(</span><span class="pln">$rule </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> $msg </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $batch </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 设置验证失败后是否抛出异常
 * @access public
 * @param bool $fail 是否抛出异常
 * @return $this
 */</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="pln">validateFailException</span><span class="pun">(</span><span class="pln">$fail </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 自动验证数据
 * @access protected
 * @param array $data  验证数据
 * @param mixed $rule  验证规则
 * @param bool  $batch 批量验证
 * @return bool
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">validateData</span><span class="pun">(</span><span class="pln">$data</span><span class="pun">,</span><span class="pln"> $rule </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $batch </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 返回模型的错误信息</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">getError</span><span class="pun">();</span><span class="pln">

</span><span class="com">/**
 * 注册回调方法
 * @access public
 * @param string   $event    事件名
 * @param callable $callback 回调方法
 * @param bool     $override 是否覆盖
 * @return void
 */</span><span class="pln">
</span><span class="typ">Model</span><span class="pun">::</span><span class="kwd">event</span><span class="pun">(</span><span class="pln">$event</span><span class="pun">,</span><span class="pln"> $callback</span><span class="pun">,</span><span class="pln"> $override </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 触发事件
 * @access protected
 * @param string $event  事件名
 * @param mixed  $params 传入参数（引用）
 * @return bool
 */</span><span class="pln">
 $this</span><span class="pun">-&gt;</span><span class="pln">trigger</span><span class="pun">(</span><span class="pln">$event</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">$params</span><span class="pun">);</span><span class="pln">

 </span><span class="com">/**
 * 写入数据
 * @access public
 * @param array      $data  数据数组
 * @param array|true $field 允许字段
 * @return $this
 */</span><span class="pln">
</span><span class="typ">Model</span><span class="pun">::</span><span class="pln">create</span><span class="pun">(</span><span class="pln">$data </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $field </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 更新数据
 * @access public
 * @param array      $data  数据数组
 * @param array      $where 更新条件
 * @param array|true $field 允许字段
 * @return $this
 */</span><span class="pln">
</span><span class="typ">Model</span><span class="pun">::</span><span class="pln">update</span><span class="pun">(</span><span class="pln">$data </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $where </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $field </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 查找单条记录
 * @access public
 * @param mixed        $data  主键值或者查询条件（闭包）
 * @param array|string $with  关联预查询
 * @param bool         $cache 是否缓存
 * @return static
 * @throws exception\DbException
 */</span><span class="pln">
</span><span class="typ">Model</span><span class="pun">::</span><span class="kwd">get</span><span class="pun">(</span><span class="pln">$data </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $with </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $cache </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 查找所有记录
 * @access public
 * @param mixed        $data  主键列表或者查询条件（闭包）
 * @param array|string $with  关联预查询
 * @param bool         $cache 是否缓存
 * @return static[]|false
 * @throws exception\DbException
 */</span><span class="pln">
</span><span class="typ">Model</span><span class="pun">::</span><span class="pln">all</span><span class="pun">(</span><span class="pln">$data </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $with </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $cache </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 分析查询表达式
 * @access public
 * @param mixed  $data  主键列表或者查询条件（闭包）
 * @param string $with  关联预查询
 * @param bool   $cache 是否缓存
 * @return Query
 */</span><span class="pln">
</span><span class="typ">Model</span><span class="pun">::</span><span class="pln">parseQuery</span><span class="pun">(&amp;</span><span class="pln">$data</span><span class="pun">,</span><span class="pln"> $with</span><span class="pun">,</span><span class="pln"> $cache</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 删除记录
 * @access public
 * @param mixed $data 主键列表 支持闭包查询条件
 * @return integer 成功删除的记录数
 */</span><span class="pln">
</span><span class="typ">Model</span><span class="pun">::</span><span class="pln">destroy</span><span class="pun">(</span><span class="pln">$data</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 命名范围
 * @access public
 * @param string|array|\Closure $name 命名范围名称 逗号分隔
 * @internal  mixed                 ...$params 参数调用
 * @return Model|Query
 */</span><span class="pln">
</span><span class="typ">Model</span><span class="pun">::</span><span class="pln">scope</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 设置是否使用全局查询范围</span><span class="pln">
</span><span class="typ">Model</span><span class="pun">::</span><span class="pln">useGlobalScope</span><span class="pun">(</span><span class="pln">$use</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 根据关联条件查询当前模型
 * @access public
 * @param string  $relation 关联方法名
 * @param mixed   $operator 比较操作符
 * @param integer $count    个数
 * @param string  $id       关联表的统计字段
 * @return Relation|Query
 */</span><span class="pln">
</span><span class="typ">Model</span><span class="pun">::</span><span class="pln">has</span><span class="pun">(</span><span class="pln">$relation</span><span class="pun">,</span><span class="pln"> $operator </span><span class="pun">=</span><span class="pln"> </span><span class="str">'&gt;='</span><span class="pun">,</span><span class="pln"> $count </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> $id </span><span class="pun">=</span><span class="pln"> </span><span class="str">'*'</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 根据关联条件查询当前模型
 * @access public
 * @param string $relation 关联方法名
 * @param mixed  $where    查询条件（数组或者闭包）
 * @return Relation|Query
 */</span><span class="pln">
</span><span class="typ">Model</span><span class="pun">::</span><span class="pln">hasWhere</span><span class="pun">(</span><span class="pln">$relation</span><span class="pun">,</span><span class="pln"> $where </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 解析模型的完整命名空间
 * @access public
 * @param string $model 模型名（或者完整类名）
 * @return string
 */</span><span class="pln">
 $this</span><span class="pun">-&gt;</span><span class="pln">parseModel</span><span class="pun">(</span><span class="pln">$model</span><span class="pun">);</span><span class="pln">

 </span><span class="com">/**
 * 查询当前模型的关联数据
 * @access public
 * @param string|array $relations 关联名
 * @return $this
 */</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="pln">relationQuery</span><span class="pun">(</span><span class="pln">$relations</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 预载入关联查询 返回数据集
 * @access public
 * @param array  $resultSet 数据集
 * @param string $relation  关联名
 * @return array
 */</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="pln">eagerlyResultSet</span><span class="pun">(&amp;</span><span class="pln">$resultSet</span><span class="pun">,</span><span class="pln"> $relation</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 预载入关联查询 返回模型对象
 * @access public
 * @param Model  $result   数据对象
 * @param string $relation 关联名
 * @return Model
 */</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="pln">eagerlyResult</span><span class="pun">(&amp;</span><span class="pln">$result</span><span class="pun">,</span><span class="pln"> $relation</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 关联统计
 * @access public
 * @param Model        $result   数据对象
 * @param string|array $relation 关联名
 * @return void
 */</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="pln">relationCount</span><span class="pun">(&amp;</span><span class="pln">$result</span><span class="pun">,</span><span class="pln"> $relation</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 获取模型的默认外键名
 * @access public
 * @param string $name 模型名
 * @return string
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">getForeignKey</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * HAS ONE 关联定义
 * @access public
 * @param string $model      模型名
 * @param string $foreignKey 关联外键
 * @param string $localKey   关联主键
 * @param array  $alias      别名定义（已经废弃）
 * @param string $joinType   JOIN类型
 * @return HasOne
 */</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="pln">hasOne</span><span class="pun">(</span><span class="pln">$model</span><span class="pun">,</span><span class="pln"> $foreignKey </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $localKey </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $alias </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $joinType </span><span class="pun">=</span><span class="pln"> </span><span class="str">'INNER'</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * BELONGS TO 关联定义
 * @access public
 * @param string $model      模型名
 * @param string $foreignKey 关联外键
 * @param string $localKey   关联主键
 * @param array  $alias      别名定义（已经废弃）
 * @param string $joinType   JOIN类型
 * @return BelongsTo
 */</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="pln">belongsTo</span><span class="pun">(</span><span class="pln">$model</span><span class="pun">,</span><span class="pln"> $foreignKey </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $localKey </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $alias </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $joinType </span><span class="pun">=</span><span class="pln"> </span><span class="str">'INNER'</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * HAS MANY 关联定义
 * @access public
 * @param string $model      模型名
 * @param string $foreignKey 关联外键
 * @param string $localKey   关联主键
 * @return HasMany
 */</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="pln">hasMany</span><span class="pun">(</span><span class="pln">$model</span><span class="pun">,</span><span class="pln"> $foreignKey </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $localKey </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * HAS MANY 远程关联定义
 * @access public
 * @param string $model      模型名
 * @param string $through    中间模型名
 * @param string $foreignKey 关联外键
 * @param string $throughKey 关联外键
 * @param string $localKey   关联主键
 * @return HasManyThrough
 */</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="pln">hasManyThrough</span><span class="pun">(</span><span class="pln">$model</span><span class="pun">,</span><span class="pln"> $through</span><span class="pun">,</span><span class="pln"> $foreignKey </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $throughKey </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $localKey </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * BELONGS TO MANY 关联定义
 * @access public
 * @param string $model      模型名
 * @param string $table      中间表名
 * @param string $foreignKey 关联外键
 * @param string $localKey   当前模型关联键
 * @return BelongsToMany
 */</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="pln">belongsToMany</span><span class="pun">(</span><span class="pln">$model</span><span class="pun">,</span><span class="pln"> $table </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $foreignKey </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $localKey </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * MORPH  MANY 关联定义
 * @access public
 * @param string       $model 模型名
 * @param string|array $morph 多态字段信息
 * @param string       $type  多态类型
 * @return MorphMany
 */</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="pln">morphMany</span><span class="pun">(</span><span class="pln">$model</span><span class="pun">,</span><span class="pln"> $morph </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $type </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * MORPH TO 关联定义
 * @access public
 * @param string|array $morph 多态字段信息
 * @param array        $alias 多态别名定义
 * @return MorphTo
 */</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="pln">morphTo</span><span class="pun">(</span><span class="pln">$morph </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $alias </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

$model</span><span class="pun">-&gt;</span><span class="pln">__call</span><span class="pun">(</span><span class="pln">$method</span><span class="pun">,</span><span class="pln"> $args</span><span class="pun">);</span><span class="pln">

</span><span class="typ">Model</span><span class="pun">::</span><span class="pln">__callStatic</span><span class="pun">(</span><span class="pln">$method</span><span class="pun">,</span><span class="pln"> $params</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 修改器 设置数据对象的值
 * @access public
 * @param string $name  名称
 * @param mixed  $value 值
 * @return void
 */</span><span class="pln">
 $model</span><span class="pun">-&gt;</span><span class="pln">__set</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $value</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 获取器 获取数据对象的值
 * @access public
 * @param string $name 名称
 * @return mixed
 */</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="pln">__get</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 检测数据对象的值</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="pln">__isset</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 销毁数据对象的值
 * @access public
 * @param string $name 名称
 * @return void
 */</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="pln">__unset</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">);</span><span class="pln">

$model</span><span class="pun">-&gt;</span><span class="pln">__toString</span><span class="pun">();</span><span class="pln">

$model</span><span class="pun">-&gt;</span><span class="pln">jsonSerialize</span><span class="pun">();</span><span class="pln">

$model</span><span class="pun">-&gt;</span><span class="pln">offsetSet</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $value</span><span class="pun">);</span><span class="pln">

$model</span><span class="pun">-&gt;</span><span class="pln">offsetExists</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">);</span><span class="pln">

$model</span><span class="pun">-&gt;</span><span class="pln">offsetUnset</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">);</span><span class="pln">

$model</span><span class="pun">-&gt;</span><span class="pln">offsetGet</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 解序列化后处理</span><span class="pln">
$model</span><span class="pun">-&gt;</span><span class="pln">__wakeup</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 模型事件快捷方法</span><span class="pln">
</span><span class="typ">Model</span><span class="pun">::</span><span class="pln">beforeInsert</span><span class="pun">(</span><span class="pln">$callback</span><span class="pun">,</span><span class="pln"> $override </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="typ">Model</span><span class="pun">::</span><span class="pln">afterInsert</span><span class="pun">(</span><span class="pln">$callback</span><span class="pun">,</span><span class="pln"> $override </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="typ">Model</span><span class="pun">::</span><span class="pln">beforeUpdate</span><span class="pun">(</span><span class="pln">$callback</span><span class="pun">,</span><span class="pln"> $override </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="typ">Model</span><span class="pun">::</span><span class="pln">afterUpdate</span><span class="pun">(</span><span class="pln">$callback</span><span class="pun">,</span><span class="pln"> $override </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="typ">Model</span><span class="pun">::</span><span class="pln">beforeWrite</span><span class="pun">(</span><span class="pln">$callback</span><span class="pun">,</span><span class="pln"> $override </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="typ">Model</span><span class="pun">::</span><span class="pln">afterWrite</span><span class="pun">(</span><span class="pln">$callback</span><span class="pun">,</span><span class="pln"> $override </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="typ">Model</span><span class="pun">::</span><span class="pln">beforeDelete</span><span class="pun">(</span><span class="pln">$callback</span><span class="pun">,</span><span class="pln"> $override </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="typ">Model</span><span class="pun">::</span><span class="pln">afterDelete</span><span class="pun">(</span><span class="pln">$callback</span><span class="pun">,</span><span class="pln"> $override </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span></pre>
						</section>
												<section class="cmd-description grid-item" id="cmd-process" style="position: absolute; left: 405px; top: 7586px;">
							<h4><a name="process" href="#process">Process</a>
							<a href="#" title="Process @ ThinkPHP Docs"><i class="icon-file-text"></i></a></h4>
							<pre class="prettyprint lang-php prettyprinted"><span class="com">/**
 * 构造方法
 * @param string         $commandline 指令
 * @param string|null    $cwd         工作目录
 * @param array|null     $env         环境变量
 * @param string|null    $input       输入
 * @param int|float|null $timeout     超时时间
 * @param array          $options     proc_open的选项
 * @throws \RuntimeException
 * @api
 */</span><span class="pln">
$process </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Process</span><span class="pun">(</span><span class="pln">$commandline</span><span class="pun">,</span><span class="pln"> $cwd </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> array $env </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $input </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $timeout </span><span class="pun">=</span><span class="pln"> </span><span class="lit">60</span><span class="pun">,</span><span class="pln"> array $options </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">// 停止</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">__destruct</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 克隆</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">__clone</span><span class="pun">();</span><span class="pln">

</span><span class="com">/**
 * 运行指令
 * @param callback|null $callback
 * @return int
 */</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">run</span><span class="pun">(</span><span class="pln">$callback </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 运行指令
 * @param callable|null $callback
 * @return self
 * @throws \RuntimeException
 * @throws ProcessFailedException
 */</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">mustRun</span><span class="pun">(</span><span class="pln">$callback </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 启动进程并写到 STDIN 输入后返回。
 * @param callable|null $callback
 * @throws \RuntimeException
 * @throws \RuntimeException
 * @throws \LogicException
 */</span><span class="pln">
 $process</span><span class="pun">-&gt;</span><span class="pln">start</span><span class="pun">(</span><span class="pln">$callback </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

 </span><span class="com">/**
 * 重启进程
 * @param callable|null $callback
 * @return Process
 * @throws \RuntimeException
 * @throws \RuntimeException
 */</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">restart</span><span class="pun">(</span><span class="pln">$callback </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 等待要终止的进程
 * @param callable|null $callback
 * @return int
 */</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">wait</span><span class="pun">(</span><span class="pln">$callback </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 获取PID
 * @return int|null
 * @throws \RuntimeException
 */</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">getPid</span><span class="pun">();</span><span class="pln">

</span><span class="com">/**
 * 将一个 POSIX 信号发送到进程中
 * @param int $signal
 * @return Process
 */</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">signal</span><span class="pun">(</span><span class="pln">$signal</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 禁用从底层过程获取输出和错误输出。</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">disableOutput</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 开启从底层过程获取输出和错误输出。</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">enableOutput</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 输出是否禁用</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">isOutputDisabled</span><span class="pun">();</span><span class="pln">

</span><span class="com">/**
 * 获取当前的输出管道
 * @return string
 * @throws \LogicException
 * @throws \LogicException
 * @api
 */</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">getOutput</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 以增量方式返回的输出结果。</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">getIncrementalOutput</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 清空输出</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">clearOutput</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 返回当前的错误输出的过程 (STDERR)。</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">getErrorOutput</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 以增量方式返回 errorOutput</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">getIncrementalErrorOutput</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 清空 errorOutput</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">clearErrorOutput</span><span class="pun">();</span><span class="pln">

</span><span class="com">/**
 * 获取退出码
 * @return null|int
 */</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">getExitCode</span><span class="pun">();</span><span class="pln">

</span><span class="com">/**
 * 获取退出文本
 * @return null|string
 */</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">getExitCodeText</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 检查是否成功</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">isSuccessful</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 是否未捕获的信号已被终止子进程</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">hasBeenSignaled</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 返回导致子进程终止其执行的数。</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">getTermSignal</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 检查是否正在运行</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">isRunning</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 检查是否已开始</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">isStarted</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 检查是否已终止</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">isTerminated</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 获取当前的状态</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">getStatus</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 终止进程</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">stop</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 添加一行输出</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">addOutput</span><span class="pun">(</span><span class="pln">$line</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 添加一行错误输出</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">addErrorOutput</span><span class="pun">(</span><span class="pln">$line</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 获取被执行的指令</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">getCommandLine</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 设置指令</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">setCommandLine</span><span class="pun">(</span><span class="pln">$commandline</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 获取超时时间</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">getTimeout</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 获取idle超时时间</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">getIdleTimeout</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 设置超时时间</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">setTimeout</span><span class="pun">(</span><span class="pln">$timeout</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 设置idle超时时间</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">setIdleTimeout</span><span class="pun">(</span><span class="pln">$timeout</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 设置TTY</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">setTty</span><span class="pun">(</span><span class="pln">$tty</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 检查是否是tty模式</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">isTty</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 设置pty模式</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">setPty</span><span class="pun">(</span><span class="pln">$bool</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 是否是pty模式</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">isPty</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 获取工作目录</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">getWorkingDirectory</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 设置工作目录</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">setWorkingDirectory</span><span class="pun">(</span><span class="pln">$cwd</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 获取环境变量</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">getEnv</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 设置环境变量</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">setEnv</span><span class="pun">(</span><span class="pln">array $env</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 获取输入</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">getInput</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 设置输入</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">setInput</span><span class="pun">(</span><span class="pln">$input</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 获取proc_open的选项</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">getOptions</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 设置proc_open的选项</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">setOptions</span><span class="pun">(</span><span class="pln">array $options</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 是否兼容windows</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">getEnhanceWindowsCompatibility</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 设置是否兼容windows</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">setEnhanceWindowsCompatibility</span><span class="pun">(</span><span class="pln">$enhance</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 返回是否 sigchild 兼容模式激活</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">getEnhanceSigchildCompatibility</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 激活 sigchild 兼容性模式。</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">setEnhanceSigchildCompatibility</span><span class="pun">(</span><span class="pln">$enhance</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 是否超时</span><span class="pln">
$process</span><span class="pun">-&gt;</span><span class="pln">checkTimeout</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 是否支持pty</span><span class="pln">
</span><span class="typ">Process</span><span class="pun">::</span><span class="pln">isPtySupported</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 创建所需的 proc_open 的描述符</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">getDescriptors</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 建立 wait () 使用的回调。</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">buildCallback</span><span class="pun">(</span><span class="pln">$callback</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 更新状态</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">updateStatus</span><span class="pun">(</span><span class="pln">$blocking</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 是否开启 '--enable-sigchild'</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">isSigchildEnabled</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 验证是否超时</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">validateTimeout</span><span class="pun">(</span><span class="pln">$timeout</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 读取pipes</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">readPipes</span><span class="pun">(</span><span class="pln">$blocking</span><span class="pun">,</span><span class="pln"> $close</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 捕获退出码</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">captureExitCode</span><span class="pun">();</span><span class="pln">

</span><span class="com">/**
 * 关闭资源
 * @return int 退出码
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">close</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 重置数据</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">resetProcessData</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 将一个 POSIX 信号发送到进程中。</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">doSignal</span><span class="pun">(</span><span class="pln">$signal</span><span class="pun">,</span><span class="pln"> $throwException</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 确保进程已经开启</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">requireProcessIsStarted</span><span class="pun">(</span><span class="pln">$functionName</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 确保进程已经终止</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">requireProcessIsTerminated</span><span class="pun">(</span><span class="pln">$functionName</span><span class="pun">);</span></pre>
						</section>
												<section class="cmd-description grid-item" id="cmd-request" style="position: absolute; left: 0px; top: 9740px;">
							<h4><a name="request" href="#request">Request</a>
							<a href="http://www.kancloud.cn/manual/thinkphp5/118042" title="Request @ ThinkPHP Docs"><i class="icon-file-text"></i></a></h4>
							<pre class="prettyprint lang-php prettyprinted"><span class="com">/**
 * Hook 方法注入
 * @access public
 * @param string|array  $method 方法名
 * @param mixed         $callback callable
 * @return void
 */</span><span class="pln">
</span><span class="typ">Request</span><span class="pun">::</span><span class="pln">hook</span><span class="pun">(</span><span class="pln">$method</span><span class="pun">,</span><span class="pln"> $callback </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 初始化</span><span class="pln">
</span><span class="typ">Request</span><span class="pun">::</span><span class="pln">instance</span><span class="pun">(</span><span class="pln">$options </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 创建一个URL请求
 * @access public
 * @param string    $uri URL地址
 * @param string    $method 请求类型
 * @param array     $params 请求参数
 * @param array     $cookie
 * @param array     $files
 * @param array     $server
 * @param string    $content
 * @return \think\Request
 */</span><span class="pln">
</span><span class="typ">Request</span><span class="pun">::</span><span class="pln">create</span><span class="pun">(</span><span class="pln">$uri</span><span class="pun">,</span><span class="pln"> $method </span><span class="pun">=</span><span class="pln"> </span><span class="str">'GET'</span><span class="pun">,</span><span class="pln"> $params </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $cookie </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $files </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $server </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $content </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 设置或获取当前包含协议的域名</span><span class="pln">
$request </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Request</span><span class="pun">();</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">domain</span><span class="pun">(</span><span class="pln">$domain </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 设置或获取当前完整URL 包括QUERY_STRING
 * @access public
 * @param string|true $url URL地址 true 带域名获取
 * @return string
 */</span><span class="pln">

</span><span class="com">/**
 * 设置或获取当前URL 不含QUERY_STRING
 * @access public
 * @param string $url URL地址
 * @return string
 */</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">baseUrl</span><span class="pun">(</span><span class="pln">$url </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 设置或获取当前执行的文件 SCRIPT_NAME
 * @access public
 * @param string $file 当前执行的文件
 * @return string
 */</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">baseFile</span><span class="pun">(</span><span class="pln">$file </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 设置或获取URL访问根地址
 * @access public
 * @param string $url URL地址
 * @return string
 */</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">root</span><span class="pun">(</span><span class="pln">$url </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 获取当前请求URL的pathinfo信息（含URL后缀）</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">pathinfo</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 获取当前请求URL的pathinfo信息(不含URL后缀)</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">path</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 当前URL的访问后缀</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">ext</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 获取当前请求的时间</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">time</span><span class="pun">(</span><span class="pln">$float </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 当前请求的资源类型
 * @access public
 * @return false|string
 */</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">type</span><span class="pun">();</span><span class="pln">

</span><span class="com">/**
 * 设置资源类型
 * @access public
 * @param string|array  $type 资源类型名
 * @param string        $val 资源类型
 * @return void
 */</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">mimeType</span><span class="pun">(</span><span class="pln">$type</span><span class="pun">,</span><span class="pln"> $val </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 当前的请求类型
 * @access public
 * @param bool $method  true 获取原始请求类型
 * @return string
 */</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">method</span><span class="pun">(</span><span class="pln">$method </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 是否为GET请求</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">isGet</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 是否为POST请求</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">isPost</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 是否为PUT请求</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">isPut</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 是否为DELTE请求</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">isDelete</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 是否为HEAD请求</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">isHead</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 是否为PATCH请求</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">isPatch</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 是否为OPTIONS请求</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">isOptions</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 是否为cli</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">isCli</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 是否为cgi</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">isCgi</span><span class="pun">();</span><span class="pln">

</span><span class="com">/**
 * 获取获取当前请求的参数
 * @access public
 * @param string|array  $name 变量名
 * @param mixed         $default 默认值
 * @param string|array  $filter 过滤方法
 * @return mixed
 */</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">param</span><span class="pun">(</span><span class="pln">$name </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $default </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $filter </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 设置获取获取路由参数
 * @access public
 * @param string|array  $name 变量名
 * @param mixed         $default 默认值
 * @param string|array  $filter 过滤方法
 * @return mixed
 */</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">route</span><span class="pun">(</span><span class="pln">$name </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $default </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $filter </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 设置获取获取GET参数
 * @access public
 * @param string|array  $name 变量名
 * @param mixed         $default 默认值
 * @param string|array  $filter 过滤方法
 * @return mixed
 */</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="kwd">get</span><span class="pun">(</span><span class="pln">$name </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $default </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $filter </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 设置获取获取POST参数
 * @access public
 * @param string        $name 变量名
 * @param mixed         $default 默认值
 * @param string|array  $filter 过滤方法
 * @return mixed
 */</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">post</span><span class="pun">(</span><span class="pln">$name </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $default </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $filter </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 设置获取获取PUT参数
 * @access public
 * @param string|array      $name 变量名
 * @param mixed             $default 默认值
 * @param string|array      $filter 过滤方法
 * @return mixed
 */</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">put</span><span class="pun">(</span><span class="pln">$name </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $default </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $filter </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 设置获取获取DELETE参数
 * @access public
 * @param string|array      $name 变量名
 * @param mixed             $default 默认值
 * @param string|array      $filter 过滤方法
 * @return mixed
 */</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="kwd">delete</span><span class="pun">(</span><span class="pln">$name </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $default </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $filter </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 设置获取获取PATCH参数
 * @access public
 * @param string|array      $name 变量名
 * @param mixed             $default 默认值
 * @param string|array      $filter 过滤方法
 * @return mixed
 */</span><span class="pln">
$Req


</span><span class="com">/**
 * 获取request变量
 * @param string        $name 数据名称
 * @param string        $default 默认值
 * @param string|array  $filter 过滤方法
 * @return mixed
 */</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">request</span><span class="pun">(</span><span class="pln">$name </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $default </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $filter </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 获取session数据
 * @access public
 * @param string|array  $name 数据名称
 * @param string        $default 默认值
 * @param string|array  $filter 过滤方法
 * @return mixed
 */</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">session</span><span class="pun">(</span><span class="pln">$name </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $default </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $filter </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">


</span><span class="com">/**
 * 获取cookie参数
 * @access public
 * @param string|array  $name 数据名称
 * @param string        $default 默认值
 * @param string|array  $filter 过滤方法
 * @return mixed
 */</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">cookie</span><span class="pun">(</span><span class="pln">$name </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $default </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $filter </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 获取server参数
 * @access public
 * @param string|array  $name 数据名称
 * @param string        $default 默认值
 * @param string|array  $filter 过滤方法
 * @return mixed
 */</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">server</span><span class="pun">(</span><span class="pln">$name </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $default </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $filter </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 获取上传的文件信息
 * @access public
 * @param string|array $name 名称
 * @return null|array|\think\File
 */</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">file</span><span class="pun">(</span><span class="pln">$name </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 获取环境变量
 * @param string|array  $name 数据名称
 * @param string        $default 默认值
 * @param string|array  $filter 过滤方法
 * @return mixed
 */</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">env</span><span class="pun">(</span><span class="pln">$name </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $default </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $filter </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 设置或者获取当前的Header
 * @access public
 * @param string|array  $name header名称
 * @param string        $default 默认值
 * @return string
 */</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">header</span><span class="pun">(</span><span class="pln">$name </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $default </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 获取变量 支持过滤和默认值
 * @param array         $data 数据源
 * @param string|false  $name 字段名
 * @param mixed         $default 默认值
 * @param string|array  $filter 过滤函数
 * @return mixed
 */</span><span class="pln">
 $request</span><span class="pun">-&gt;</span><span class="pln">input</span><span class="pun">(</span><span class="pln">$data </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $name </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $default </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $filter </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

 </span><span class="com">/**
 * 设置或获取当前的过滤规则
 * @param mixed $filter 过滤规则
 * @return mixed
 */</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">filter</span><span class="pun">(</span><span class="pln">$filter </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)；</span><span class="pln">

</span><span class="com">/**
 * 递归过滤给定的值
 * @param mixed     $value 键值
 * @param mixed     $key 键名
 * @param array     $filters 过滤方法+默认值
 * @return mixed
 */</span><span class="pln">
 $this</span><span class="pun">-&gt;</span><span class="pln">filterValue</span><span class="pun">(&amp;</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $key</span><span class="pun">,</span><span class="pln"> $filters</span><span class="pun">);</span><span class="pln">

 </span><span class="com">// 过滤表单中的表达式</span><span class="pln">
 $request</span><span class="pun">-&gt;</span><span class="pln">filterExp</span><span class="pun">(&amp;</span><span class="pln">$value</span><span class="pun">);</span><span class="pln">

 </span><span class="com">/**
 * 强制类型转换
 * @param string $data
 * @param string $type
 * @return mixed
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">typeCast</span><span class="pun">(&amp;</span><span class="pln">$data</span><span class="pun">,</span><span class="pln"> $type</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 是否存在某个请求参数
 * @access public
 * @param string    $name 变量名
 * @param string    $type 变量类型
 * @param bool      $checkEmpty 是否检测空值
 * @return mixed
 */</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">has</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $type </span><span class="pun">=</span><span class="pln"> </span><span class="str">'param'</span><span class="pun">,</span><span class="pln"> $checkEmpty </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 获取指定的参数
 * @access public
 * @param string|array  $name 变量名
 * @param string        $type 变量类型
 * @return mixed
 */</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">only</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $type </span><span class="pun">=</span><span class="pln"> </span><span class="str">'param'</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 排除指定参数获取
 * @access public
 * @param string|array  $name 变量名
 * @param string        $type 变量类型
 * @return mixed
 */</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="kwd">except</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $type </span><span class="pun">=</span><span class="pln"> </span><span class="str">'param'</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 当前是否ssl</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">isSsl</span><span class="pun">();</span><span class="pln">

</span><span class="com">/**
 * 当前是否Ajax请求
 * @access public
 * @param bool $ajax  true 获取原始ajax请求
 * @return bool
 */</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">isAjax</span><span class="pun">(</span><span class="pln">$ajax </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 当前是否Pjax请求
 * @access public
 * @param bool $pjax  true 获取原始pjax请求
 * @return bool
 */</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">isPjax</span><span class="pun">(</span><span class="pln">$pjax </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 获取客户端IP地址
 * @param integer   $type 返回类型 0 返回IP地址 1 返回IPV4地址数字
 * @param boolean   $adv 是否进行高级模式获取（有可能被伪装）
 * @return mixed
 */</span><span class="pln">
$requet</span><span class="pun">-&gt;</span><span class="pln">ip</span><span class="pun">(</span><span class="pln">$type </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> $adv </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 检测是否使用手机访问</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">isMobile</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 当前URL地址中的scheme参数</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">scheme</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 当前请求URL地址中的query参数</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">query</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 当前请求的host</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">host</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 当前请求URL地址中的port参数</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">port</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 当前请求 SERVER_PROTOCOL</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">protocol</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 当前请求 REMOTE_PORT</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">remotePort</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 当前请求 HTTP_CONTENT_TYPE</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">contentType</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 获取当前请求的路由信息</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">routeInfo</span><span class="pun">(</span><span class="pln">$route </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 设置或者获取当前请求的调度信息
 * @access public
 * @param array  $dispatch 调度信息
 * @return array
 */</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">dispatch</span><span class="pun">(</span><span class="pln">$dispatch </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 设置或者获取当前的模块名
 * @access public
 * @param string $module 模块名
 * @return string|Request
 */</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="kwd">module</span><span class="pun">(</span><span class="pln">$module </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 设置或者获取当前的控制器名</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">controller</span><span class="pun">(</span><span class="pln">$controller </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 设置或者获取当前的操作名</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">action</span><span class="pun">(</span><span class="pln">$action </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 设置或者获取当前的语言</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">langset</span><span class="pun">(</span><span class="pln">$lang </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 设置或者获取当前请求的content</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">getContent</span><span class="pun">();</span><span class="pln">

</span><span class="com">// 获取当前请求的php://input</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">getInput</span><span class="pun">();</span><span class="pln">

</span><span class="com">/**
 * 生成请求令牌
 * @access public
 * @param string $name 令牌名称
 * @param mixed  $type 令牌生成方法
 * @return string
 */</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">token</span><span class="pun">(</span><span class="pln">$name </span><span class="pun">=</span><span class="pln"> </span><span class="str">'__token__'</span><span class="pun">,</span><span class="pln"> $type </span><span class="pun">=</span><span class="pln"> </span><span class="str">'md5'</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 设置当前地址的请求缓存
 * @access public
 * @param string $key 缓存标识，支持变量规则 ，例如 item/:name/:id
 * @param mixed  $expire 缓存有效期
 * @param array  $except 缓存排除
 * @return void
 */</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">cache</span><span class="pun">(</span><span class="pln">$key</span><span class="pun">,</span><span class="pln"> $expire </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $except </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">// 读取请求缓存设置</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">getCache</span><span class="pun">();</span><span class="pln">

</span><span class="com">/**
 * 设置当前请求绑定的对象实例
 * @access public
 * @param string $name 绑定的对象标识
 * @param mixed  $obj 绑定的对象实例
 * @return mixed
 */</span><span class="pln">
$request</span><span class="pun">-&gt;</span><span class="pln">bind</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $obj </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">
</span></pre>
						</section>
												<section class="cmd-description grid-item" id="cmd-response" style="position: absolute; left: 405px; top: 13412px;">
							<h4><a name="response" href="#response">Response</a>
							<a href="#" title="Response @ ThinkPHP Docs"><i class="icon-file-text"></i></a></h4>
							<pre class="prettyprint lang-php prettyprinted"><span class="com">/**
 * 构造函数
 * @access   public
 * @param mixed $data    输出数据
 * @param int   $code
 * @param array $header
 * @param array $options 输出参数
 */</span><span class="pln">
$response </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Response</span><span class="pun">(</span><span class="pln">$data </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $code </span><span class="pun">=</span><span class="pln"> </span><span class="lit">200</span><span class="pun">,</span><span class="pln"> array $header </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $options </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 创建Response对象
 * @access public
 * @param mixed  $data    输出数据
 * @param string $type    输出类型
 * @param int    $code
 * @param array  $header
 * @param array  $options 输出参数
 * @return Response|JsonResponse|ViewResponse|XmlResponse|RedirectResponse|JsonpResponse
 */</span><span class="pln">
</span><span class="typ">Response</span><span class="pun">::</span><span class="pln">create</span><span class="pun">(</span><span class="pln">$data </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $type </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $code </span><span class="pun">=</span><span class="pln"> </span><span class="lit">200</span><span class="pun">,</span><span class="pln"> array $header </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $options </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 发送数据到客户端
 * @access public
 * @return mixed
 * @throws \InvalidArgumentException
 */</span><span class="pln">
$response</span><span class="pun">-&gt;</span><span class="pln">send</span><span class="pun">();</span><span class="pln">

</span><span class="com">/**
 * 处理数据
 * @access protected
 * @param mixed $data 要处理的数据
 * @return mixed
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">output</span><span class="pun">(</span><span class="pln">$data</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 输出的参数
 * @access public
 * @param mixed $options 输出参数
 * @return $this
 */</span><span class="pln">
$response</span><span class="pun">-&gt;</span><span class="pln">options</span><span class="pun">(</span><span class="pln">$options </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 输出数据设置
 * @access public
 * @param mixed $data 输出数据
 * @return $this
 */</span><span class="pln">
$response</span><span class="pun">-&gt;</span><span class="pln">data</span><span class="pun">(</span><span class="pln">$data</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 设置响应头
 * @access public
 * @param string|array $name  参数名
 * @param string       $value 参数值
 * @return $this
 */</span><span class="pln">
$response</span><span class="pun">-&gt;</span><span class="pln">header</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $value </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 设置页面输出内容
 * @param $content
 * @return $this
 */</span><span class="pln">
$response</span><span class="pun">-&gt;</span><span class="pln">content</span><span class="pun">(</span><span class="pln">$content</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 发送HTTP状态
 * @param integer $code 状态码
 * @return $this
 */</span><span class="pln">
$response</span><span class="pun">-&gt;</span><span class="pln">code</span><span class="pun">(</span><span class="pln">$code</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * LastModified
 * @param string $time
 * @return $this
 */</span><span class="pln">
$response</span><span class="pun">-&gt;</span><span class="pln">lastModified</span><span class="pun">(</span><span class="pln">$time</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * Expires
 * @param string $time
 * @return $this
 */</span><span class="pln">
$response</span><span class="pun">-&gt;</span><span class="pln">expires</span><span class="pun">(</span><span class="pln">$time</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * ETag
 * @param string $eTag
 * @return $this
 */</span><span class="pln">
$response</span><span class="pun">-&gt;</span><span class="pln">eTag</span><span class="pun">(</span><span class="pln">$eTag</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 页面缓存控制
 * @param string $cache 状态码
 * @return $this
 */</span><span class="pln">
$response</span><span class="pun">-&gt;</span><span class="pln">cacheControl</span><span class="pun">(</span><span class="pln">$cache</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 页面输出类型
 * @param string $contentType 输出类型
 * @param string $charset     输出编码
 * @return $this
 */</span><span class="pln">
$response</span><span class="pun">-&gt;</span><span class="pln">contentType</span><span class="pun">(</span><span class="pln">$contentType</span><span class="pun">,</span><span class="pln"> $charset </span><span class="pun">=</span><span class="pln"> </span><span class="str">'utf-8'</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 获取头部信息
 * @param string $name 头部名称
 * @return mixed
 */</span><span class="pln">
$response</span><span class="pun">-&gt;</span><span class="pln">getHeader</span><span class="pun">(</span><span class="pln">$name </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 获取原始数据
 * @return mixed
 */</span><span class="pln">
$response</span><span class="pun">-&gt;</span><span class="pln">getData</span><span class="pun">();</span><span class="pln">

</span><span class="com">/**
 * 获取输出数据
 * @return mixed
 */</span><span class="pln">
$response</span><span class="pun">-&gt;</span><span class="pln">getContent</span><span class="pun">();</span><span class="pln">

</span><span class="com">/**
 * 获取状态码
 * @return integer
 */</span><span class="pln">
$response</span><span class="pun">-&gt;</span><span class="pln">getCode</span><span class="pun">();</span></pre>
						</section>
												<section class="cmd-description grid-item" id="cmd-route" style="position: absolute; left: 405px; top: 16559px;">
							<h4><a name="route" href="#route">Route</a>
							<a href="http://www.kancloud.cn/manual/thinkphp5/118029" title="Route @ ThinkPHP Docs"><i class="icon-file-text"></i></a></h4>
							<pre class="prettyprint lang-php prettyprinted"><span class="com">/**
 * 注册变量规则
 * @access public
 * @param string|array  $name 变量名
 * @param string        $rule 变量规则
 * @return void
 */</span><span class="pln">
</span><span class="typ">Route</span><span class="pun">::</span><span class="pln">pattern</span><span class="pun">(</span><span class="pln">$name </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $rule </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 注册子域名部署规则
 * @access public
 * @param string|array  $domain 子域名
 * @param mixed         $rule 路由规则
 * @param array         $option 路由参数
 * @param array         $pattern 变量规则
 * @return void
 */</span><span class="pln">
</span><span class="typ">Route</span><span class="pun">::</span><span class="pln">domain</span><span class="pun">(</span><span class="pln">$domain</span><span class="pun">,</span><span class="pln"> $rule </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $option </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $pattern </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="kwd">self</span><span class="pun">::</span><span class="pln">setDomain</span><span class="pun">(</span><span class="pln">$domain</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 设置路由绑定
 * @access public
 * @param mixed     $bind 绑定信息
 * @param string    $type 绑定类型 默认为module 支持 namespace class controller
 * @return mixed
 */</span><span class="pln">
</span><span class="typ">Route</span><span class="pun">::</span><span class="pln">bind</span><span class="pun">(</span><span class="pln">$bind</span><span class="pun">,</span><span class="pln"> $type </span><span class="pun">=</span><span class="pln"> </span><span class="str">'module'</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 设置或者获取路由标识
 * @access public
 * @param string|array     $name 路由命名标识 数组表示批量设置
 * @param array            $value 路由地址及变量信息
 * @return array
 */</span><span class="pln">
</span><span class="typ">Route</span><span class="pun">:;</span><span class="pln">name</span><span class="pun">(</span><span class="pln">$name </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $value </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 读取路由绑定
 * @access public
 * @param string    $type 绑定类型
 * @return mixed
 */</span><span class="pln">
</span><span class="typ">Route</span><span class="pun">::</span><span class="pln">getBind</span><span class="pun">(</span><span class="pln">$type</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 导入配置文件的路由规则
 * @access public
 * @param array     $rule 路由规则
 * @param string    $type 请求类型
 * @return void
 */</span><span class="pln">
</span><span class="typ">Route</span><span class="pun">::</span><span class="kwd">import</span><span class="pun">(</span><span class="pln">array $rule</span><span class="pun">,</span><span class="pln"> $type </span><span class="pun">=</span><span class="pln"> </span><span class="str">'*'</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 批量注册路由</span><span class="pln">
</span><span class="kwd">self</span><span class="pun">::</span><span class="pln">registerRules</span><span class="pun">(</span><span class="pln">$rules</span><span class="pun">,</span><span class="pln"> $type </span><span class="pun">=</span><span class="pln"> </span><span class="str">'*'</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 注册路由规则
 * @access public
 * @param string    $rule 路由规则
 * @param string    $route 路由地址
 * @param string    $type 请求类型
 * @param array     $option 路由参数
 * @param array     $pattern 变量规则
 * @return void
 */</span><span class="pln">
</span><span class="kwd">self</span><span class="pun">::</span><span class="pln">rule</span><span class="pun">(</span><span class="pln">$rule</span><span class="pun">,</span><span class="pln"> $route </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $type </span><span class="pun">=</span><span class="pln"> </span><span class="str">'*'</span><span class="pun">,</span><span class="pln"> $option </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $pattern </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 设置路由规则
 * @access public
 * @param string    $rule 路由规则
 * @param string    $route 路由地址
 * @param string    $type 请求类型
 * @param array     $option 路由参数
 * @param array     $pattern 变量规则
 * @param string    $group 所属分组
 * @return void
 */</span><span class="pln">
</span><span class="kwd">self</span><span class="pun">::</span><span class="pln">setRule</span><span class="pun">(</span><span class="pln">$rule</span><span class="pun">,</span><span class="pln"> $route</span><span class="pun">,</span><span class="pln"> $type </span><span class="pun">=</span><span class="pln"> </span><span class="str">'*'</span><span class="pun">,</span><span class="pln"> $option </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $pattern </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $group </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 设置当前执行的参数信息
 * @access public
 * @param array    $options 参数信息
 * @return mixed
 */</span><span class="pln">
</span><span class="kwd">self</span><span class="pun">::</span><span class="pln">setOption</span><span class="pun">(</span><span class="pln">$options </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 获取当前执行的所有参数信息
 * @access public
 * @return array
 */</span><span class="pln">
</span><span class="typ">Route</span><span class="pun">::</span><span class="pln">getOption</span><span class="pun">();</span><span class="pln">

</span><span class="com">/**
 * 获取当前的分组信息
 * @access public
 * @param string    $type 分组信息名称 name option pattern
 * @return mixed
 */</span><span class="pln">
</span><span class="typ">Route</span><span class="pun">::</span><span class="pln">getGroup</span><span class="pun">(</span><span class="pln">$type</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 设置当前的路由分组
 * @access public
 * @param string    $name 分组名称
 * @param array     $option 分组路由参数
 * @param array     $pattern 分组变量规则
 * @return void
 */</span><span class="pln">
</span><span class="typ">Route</span><span class="pun">::</span><span class="pln">setGroup</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $option </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $pattern </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 注册路由分组
 * @access public
 * @param string|array      $name 分组名称或者参数
 * @param array|\Closure    $routes 路由地址
 * @param array             $option 路由参数
 * @param array             $pattern 变量规则
 * @return void
 */</span><span class="pln">
</span><span class="typ">Route</span><span class="pun">::</span><span class="kwd">group</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $routes</span><span class="pun">,</span><span class="pln"> $option </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $pattern </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 注册路由
 * @access public
 * @param string    $rule 路由规则
 * @param string    $route 路由地址
 * @param array     $option 路由参数
 * @param array     $pattern 变量规则
 * @return void
 */</span><span class="pln">
</span><span class="typ">Route</span><span class="pun">::</span><span class="pln">any</span><span class="pun">(</span><span class="pln">$rule</span><span class="pun">,</span><span class="pln"> $route </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $option </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $pattern </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 注册GET路由
 * @access public
 * @param string    $rule 路由规则
 * @param string    $route 路由地址
 * @param array     $option 路由参数
 * @param array     $pattern 变量规则
 * @return void
 */</span><span class="pln">
</span><span class="typ">Route</span><span class="pun">::</span><span class="kwd">get</span><span class="pun">(</span><span class="pln">$rule</span><span class="pun">,</span><span class="pln"> $route </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $option </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $pattern </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 注册POST路由
 * @access public
 * @param string    $rule 路由规则
 * @param string    $route 路由地址
 * @param array     $option 路由参数
 * @param array     $pattern 变量规则
 * @return void
 */</span><span class="pln">
</span><span class="typ">Route</span><span class="pun">::</span><span class="pln">post</span><span class="pun">(</span><span class="pln">$rule</span><span class="pun">,</span><span class="pln"> $route </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $option </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $pattern </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 注册PUT路由
 * @access public
 * @param string    $rule 路由规则
 * @param string    $route 路由地址
 * @param array     $option 路由参数
 * @param array     $pattern 变量规则
 * @return void
 */</span><span class="pln">
</span><span class="typ">Route</span><span class="pun">::</span><span class="pln">put</span><span class="pun">(</span><span class="pln">$rule</span><span class="pun">,</span><span class="pln"> $route </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $option </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $pattern </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 注册DELETE路由
 * @access public
 * @param string    $rule 路由规则
 * @param string    $route 路由地址
 * @param array     $option 路由参数
 * @param array     $pattern 变量规则
 * @return void
 */</span><span class="pln">
</span><span class="typ">Route</span><span class="pun">::</span><span class="kwd">delete</span><span class="pun">(</span><span class="pln">$rule</span><span class="pun">,</span><span class="pln"> $route </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $option </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $pattern </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 注册PATCH路由
 * @access public
 * @param string    $rule 路由规则
 * @param string    $route 路由地址
 * @param array     $option 路由参数
 * @param array     $pattern 变量规则
 * @return void
 */</span><span class="pln">
</span><span class="typ">Route</span><span class="pun">::</span><span class="pln">patch</span><span class="pun">(</span><span class="pln">$rule</span><span class="pun">,</span><span class="pln"> $route </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $option </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $pattern </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 注册资源路由
 * @access public
 * @param string    $rule 路由规则
 * @param string    $route 路由地址
 * @param array     $option 路由参数
 * @param array     $pattern 变量规则
 * @return void
 */</span><span class="pln">
</span><span class="typ">Route</span><span class="pun">::</span><span class="pln">resource</span><span class="pun">(</span><span class="pln">$rule</span><span class="pun">,</span><span class="pln"> $route </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $option </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $pattern </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 注册控制器路由 操作方法对应不同的请求后缀
 * @access public
 * @param string    $rule 路由规则
 * @param string    $route 路由地址
 * @param array     $option 路由参数
 * @param array     $pattern 变量规则
 * @return void
 */</span><span class="pln">
</span><span class="typ">Route</span><span class="pun">::</span><span class="pln">controller</span><span class="pun">(</span><span class="pln">$rule</span><span class="pun">,</span><span class="pln"> $route </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $option </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $pattern </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 注册别名路由
 * @access public
 * @param string|array  $rule 路由别名
 * @param string        $route 路由地址
 * @param array         $option 路由参数
 * @return void
 */</span><span class="pln">
</span><span class="typ">Route</span><span class="pun">::</span><span class="kwd">alias</span><span class="pun">(</span><span class="pln">$rule </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln"> $route </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $option </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 设置不同请求类型下面的方法前缀
 * @access public
 * @param string    $method 请求类型
 * @param string    $prefix 类型前缀
 * @return void
 */</span><span class="pln">
</span><span class="typ">Route</span><span class="pun">::</span><span class="pln">setMethodPrefix</span><span class="pun">(</span><span class="pln">$method</span><span class="pun">,</span><span class="pln"> $prefix </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * rest方法定义和修改
 * @access public
 * @param string        $name 方法名称
 * @param array|bool    $resource 资源
 * @return void
 */</span><span class="pln">
</span><span class="typ">Route</span><span class="pun">::</span><span class="pln">rest</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $resource </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 注册未匹配路由规则后的处理
 * @access public
 * @param string    $route 路由地址
 * @param string    $method 请求类型
 * @param array     $option 路由参数
 * @return void
 */</span><span class="pln">
</span><span class="typ">Route</span><span class="pun">::</span><span class="pln">miss</span><span class="pun">(</span><span class="pln">$route</span><span class="pun">,</span><span class="pln"> $method </span><span class="pun">=</span><span class="pln"> </span><span class="str">'*'</span><span class="pun">,</span><span class="pln"> $option </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 注册一个自动解析的URL路由
 * @access public
 * @param string    $route 路由地址
 * @return void
 */</span><span class="pln">
</span><span class="typ">Route</span><span class="pun">::</span><span class="kwd">function</span><span class="pln"> </span><span class="kwd">auto</span><span class="pun">(</span><span class="pln">$route</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 获取或者批量设置路由定义
 * @access public
 * @param mixed $rules 请求类型或者路由定义数组
 * @return array
 */</span><span class="pln">
</span><span class="typ">Route</span><span class="pun">::</span><span class="pln">rules</span><span class="pun">(</span><span class="pln">$rules </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 检测子域名部署
 * @access public
 * @param Request   $request Request请求对象
 * @param array     $currentRules 当前路由规则
 * @param string    $method 请求类型
 * @return void
 */</span><span class="pln">
</span><span class="typ">Route</span><span class="pun">::</span><span class="pln">checkDomain</span><span class="pun">(</span><span class="pln">$request</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">$currentRules</span><span class="pun">,</span><span class="pln"> $method </span><span class="pun">=</span><span class="pln"> </span><span class="str">'get'</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 检测URL路由
 * @access public
 * @param Request   $request Request请求对象
 * @param string    $url URL地址
 * @param string    $depr URL分隔符
 * @param bool      $checkDomain 是否检测域名规则
 * @return false|array
 */</span><span class="pln">
</span><span class="typ">Route</span><span class="pun">::</span><span class="pln">check</span><span class="pun">(</span><span class="pln">$request</span><span class="pun">,</span><span class="pln"> $url</span><span class="pun">,</span><span class="pln"> $depr </span><span class="pun">=</span><span class="pln"> </span><span class="str">'/'</span><span class="pun">,</span><span class="pln"> $checkDomain </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="kwd">self</span><span class="pun">::</span><span class="pln">getRouteExpress</span><span class="pun">(</span><span class="pln">$key</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 检测路由规则
 * @access private
 * @param Request   $request
 * @param array     $rules 路由规则
 * @param string    $url URL地址
 * @param string    $depr URL分割符
 * @param string    $group 路由分组名
 * @param array     $options 路由参数（分组）
 * @return mixed
 */</span><span class="pln">
</span><span class="kwd">self</span><span class="pun">::</span><span class="pln">checkRoute</span><span class="pun">(</span><span class="pln">$request</span><span class="pun">,</span><span class="pln"> $rules</span><span class="pun">,</span><span class="pln"> $url</span><span class="pun">,</span><span class="pln"> $depr </span><span class="pun">=</span><span class="pln"> </span><span class="str">'/'</span><span class="pun">,</span><span class="pln"> $group </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $options </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 检测路由别名
 * @access private
 * @param Request   $request
 * @param string    $url URL地址
 * @param string    $depr URL分隔符
 * @return mixed
 */</span><span class="pln">
</span><span class="kwd">self</span><span class="pun">::</span><span class="pln">checkRouteAlias</span><span class="pun">(</span><span class="pln">$request</span><span class="pun">,</span><span class="pln"> $url</span><span class="pun">,</span><span class="pln"> $depr</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 检测URL绑定
 * @access private
 * @param string    $url URL地址
 * @param array     $rules 路由规则
 * @param string    $depr URL分隔符
 * @return mixed
 */</span><span class="pln">
</span><span class="kwd">self</span><span class="pun">::</span><span class="pln">checkUrlBind</span><span class="pun">(&amp;</span><span class="pln">$url</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">$rules</span><span class="pun">,</span><span class="pln"> $depr </span><span class="pun">=</span><span class="pln"> </span><span class="str">'/'</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 绑定到类
 * @access public
 * @param string    $url URL地址
 * @param string    $class 类名（带命名空间）
 * @param string    $depr URL分隔符
 * @return array
 */</span><span class="pln">
</span><span class="typ">Route</span><span class="pun">::</span><span class="pln">bindToClass</span><span class="pun">(</span><span class="pln">$url</span><span class="pun">,</span><span class="pln"> $class</span><span class="pun">,</span><span class="pln"> $depr </span><span class="pun">=</span><span class="pln"> </span><span class="str">'/'</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 绑定到命名空间
 * @access public
 * @param string    $url URL地址
 * @param string    $namespace 命名空间
 * @param string    $depr URL分隔符
 * @return array
 */</span><span class="pln">
</span><span class="typ">Route</span><span class="pun">::</span><span class="pln">bindToNamespace</span><span class="pun">(</span><span class="pln">$url</span><span class="pun">,</span><span class="pln"> $namespace</span><span class="pun">,</span><span class="pln"> $depr </span><span class="pun">=</span><span class="pln"> </span><span class="str">'/'</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 绑定到控制器类
 * @access public
 * @param string    $url URL地址
 * @param string    $controller 控制器名 （支持带模块名 index/user ）
 * @param string    $depr URL分隔符
 * @return array
 */</span><span class="pln">
</span><span class="typ">Route</span><span class="pun">::</span><span class="pln">bindToController</span><span class="pun">(</span><span class="pln">$url</span><span class="pun">,</span><span class="pln"> $controller</span><span class="pun">,</span><span class="pln"> $depr </span><span class="pun">=</span><span class="pln"> </span><span class="str">'/'</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 绑定到模块/控制器
 * @access public
 * @param string    $url URL地址
 * @param string    $controller 控制器类名（带命名空间）
 * @param string    $depr URL分隔符
 * @return array
 */</span><span class="pln">
</span><span class="typ">Route</span><span class="pun">::</span><span class="pln">bindToModule</span><span class="pun">(</span><span class="pln">$url</span><span class="pun">,</span><span class="pln"> $controller</span><span class="pun">,</span><span class="pln"> $depr </span><span class="pun">=</span><span class="pln"> </span><span class="str">'/'</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 路由参数有效性检查
 * @access private
 * @param array     $option 路由参数
 * @param Request   $request Request对象
 * @return bool
 */</span><span class="pln">
</span><span class="kwd">self</span><span class="pun">::</span><span class="pln">checkOption</span><span class="pun">(</span><span class="pln">$option</span><span class="pun">,</span><span class="pln"> $request</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 检测路由规则
 * @access private
 * @param string    $rule 路由规则
 * @param string    $route 路由地址
 * @param string    $url URL地址
 * @param array     $pattern 变量规则
 * @param array     $option 路由参数
 * @param string    $depr URL分隔符（全局）
 * @return array|false
 */</span><span class="pln">
</span><span class="kwd">self</span><span class="pun">::</span><span class="pln">checkRule</span><span class="pun">(</span><span class="pln">$rule</span><span class="pun">,</span><span class="pln"> $route</span><span class="pun">,</span><span class="pln"> $url</span><span class="pun">,</span><span class="pln"> $pattern</span><span class="pun">,</span><span class="pln"> $option</span><span class="pun">,</span><span class="pln"> $depr</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 解析模块的URL地址 [模块/控制器/操作?]参数1=值1&amp;参数2=值2...
 * @access public
 * @param string    $url URL地址
 * @param string    $depr URL分隔符
 * @param bool      $autoSearch 是否自动深度搜索控制器
 * @return array
 */</span><span class="pln">
</span><span class="typ">Route</span><span class="pun">::</span><span class="pln">parseUrl</span><span class="pun">(</span><span class="pln">$url</span><span class="pun">,</span><span class="pln"> $depr </span><span class="pun">=</span><span class="pln"> </span><span class="str">'/'</span><span class="pun">,</span><span class="pln"> $autoSearch </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 解析URL的pathinfo参数和变量
 * @access private
 * @param string    $url URL地址
 * @return array
 */</span><span class="pln">
</span><span class="kwd">self</span><span class="pun">::</span><span class="pln">parseUrlPath</span><span class="pun">(</span><span class="pln">$url</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 检测URL和规则路由是否匹配
 * @access private
 * @param string    $url URL地址
 * @param string    $rule 路由规则
 * @param array     $pattern 变量规则
 * @return array|false
 */</span><span class="pln">
</span><span class="kwd">self</span><span class="pun">::</span><span class="pln">match</span><span class="pun">(</span><span class="pln">$url</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">,</span><span class="pln"> $pattern</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 解析规则路由
 * @access private
 * @param string    $rule 路由规则
 * @param string    $route 路由地址
 * @param string    $pathinfo URL地址
 * @param array     $option 路由参数
 * @param array     $matches 匹配的变量
 * @return array
 */</span><span class="pln">
</span><span class="kwd">self</span><span class="pun">::</span><span class="pln">parseRule</span><span class="pun">(</span><span class="pln">$rule</span><span class="pun">,</span><span class="pln"> $route</span><span class="pun">,</span><span class="pln"> $pathinfo</span><span class="pun">,</span><span class="pln"> $option </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $matches </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 解析URL地址为 模块/控制器/操作
 * @access private
 * @param string    $url URL地址
 * @return array
 */</span><span class="pln">
</span><span class="kwd">self</span><span class="pun">::</span><span class="pln">parseModule</span><span class="pun">(</span><span class="pln">$url</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 解析URL地址中的参数Request对象
 * @access private
 * @param string    $rule 路由规则
 * @param array     $var 变量
 * @return void
 */</span><span class="pln">
</span><span class="kwd">self</span><span class="pun">::</span><span class="pln">parseUrlParams</span><span class="pun">(</span><span class="pln">$url</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">$var </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">// 分析路由规则中的变量</span><span class="pln">
</span><span class="kwd">self</span><span class="pun">::</span><span class="pln">parseVar</span><span class="pun">(</span><span class="pln">$rule</span><span class="pun">);</span></pre>
						</section>
												<section class="cmd-description grid-item" id="cmd-session" style="position: absolute; left: 811px; top: 18998px;">
							<h4><a name="session" href="#session">Session</a>
							<a href="http://www.kancloud.cn/manual/thinkphp5/126166" title="Session @ ThinkPHP Docs"><i class="icon-file-text"></i></a></h4>
							<pre class="prettyprint lang-php prettyprinted"><span class="com">// 设置或者获取session作用域（前缀）</span><span class="pln">
</span><span class="typ">Session</span><span class="pun">::</span><span class="pln">prefix</span><span class="pun">(</span><span class="pln">$prefix </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * session初始化
 * @param array $config
 * @return void
 * @throws \think\Exception
 */</span><span class="pln">
</span><span class="typ">Session</span><span class="pun">::</span><span class="pln">init</span><span class="pun">(</span><span class="pln">array $config </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">// session自动启动或者初始化</span><span class="pln">
</span><span class="typ">Session</span><span class="pun">::</span><span class="pln">boot</span><span class="pun">();</span><span class="pln">

</span><span class="com">/**
 * session设置
 * @param string        $name session名称
 * @param mixed         $value session值
 * @param string|null   $prefix 作用域（前缀）
 * @return void
 */</span><span class="pln">
</span><span class="typ">Session</span><span class="pun">::</span><span class="kwd">set</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $value </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $prefix </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * session获取
 * @param string        $name session名称
 * @param string|null   $prefix 作用域（前缀）
 * @return mixed
 */</span><span class="pln">
</span><span class="typ">Session</span><span class="pun">::</span><span class="kwd">get</span><span class="pun">(</span><span class="pln">$name </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $prefix </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * session获取并删除
 * @param string        $name session名称
 * @param string|null   $prefix 作用域（前缀）
 * @return mixed
 */</span><span class="pln">
</span><span class="typ">Session</span><span class="pun">::</span><span class="pln">pull</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $prefix </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * session设置 下一次请求有效
 * @param string        $name session名称
 * @param mixed         $value session值
 * @param string|null   $prefix 作用域（前缀）
 * @return void
 */</span><span class="pln">
</span><span class="typ">Session</span><span class="pun">::</span><span class="pln">flash</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $value</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 清空当前请求的session数据</span><span class="pln">
</span><span class="typ">Session</span><span class="pun">::</span><span class="kwd">function</span><span class="pln"> flush</span><span class="pun">();</span><span class="pln">

</span><span class="com">/**
 * 删除session数据
 * @param string|array  $name session名称
 * @param string|null   $prefix 作用域（前缀）
 * @return void
 */</span><span class="pln">
</span><span class="typ">Session</span><span class="pun">::</span><span class="kwd">delete</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $prefix </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 清空session数据
 * @param string|null   $prefix 作用域（前缀）
 * @return void
 */</span><span class="pln">
</span><span class="typ">Session</span><span class="pun">::</span><span class="pln">clear</span><span class="pun">(</span><span class="pln">$prefix </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 判断session数据
 * @param string        $name session名称
 * @param string|null   $prefix
 * @return bool
 */</span><span class="pln">
</span><span class="typ">Session</span><span class="pun">::</span><span class="pln">has</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $prefix </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 添加数据到一个session数组
 * @param  string  $key
 * @param  mixed   $value
 * @return void
 */</span><span class="pln">
</span><span class="typ">Session</span><span class="pun">::</span><span class="pln">push</span><span class="pun">(</span><span class="pln">$key</span><span class="pun">,</span><span class="pln"> $value</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 启动session
 * @return void
 */</span><span class="pln">
</span><span class="typ">Session</span><span class="pun">::</span><span class="pln">start</span><span class="pun">();</span><span class="pln">

</span><span class="com">/**
 * 销毁session
 * @return void
 */</span><span class="pln">
</span><span class="typ">Session</span><span class="pun">::</span><span class="pln">destroy</span><span class="pun">();</span><span class="pln">

</span><span class="com">/**
 * 重新生成session_id
 * @param bool $delete 是否删除关联会话文件
 * @return void
 */</span><span class="pln">
</span><span class="typ">Session</span><span class="pun">::</span><span class="pln">regenerate</span><span class="pun">(</span><span class="pln">$delete </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 暂停session
 * @return void
 */</span><span class="pln">
</span><span class="typ">Session</span><span class="pun">::</span><span class="pln">pause</span><span class="pun">();</span></pre>
						</section>
												<section class="cmd-description grid-item" id="cmd-template" style="position: absolute; left: 0px; top: 19799px;">
							<h4><a name="template" href="#template">Template</a>
							<a href="http://www.kancloud.cn/manual/thinkphp5/118122" title="Template @ ThinkPHP Docs"><i class="icon-file-text"></i></a></h4>
							<pre class="prettyprint lang-php prettyprinted"><span class="com">// 构造函数</span><span class="pln">
$template </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Template</span><span class="pun">(</span><span class="pln">array $config </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">


</span><span class="com">/**
 * 字符串替换 避免正则混淆
 * @access private
 * @param string $str
 * @return string
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">stripPreg</span><span class="pun">(</span><span class="pln">$str</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 模板变量赋值
 * @access public
 * @param mixed $name
 * @param mixed $value
 * @return void
 */</span><span class="pln">
$template</span><span class="pun">-&gt;</span><span class="pln">assign</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $value </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 模板引擎参数赋值
 * @access public
 * @param mixed $name
 * @param mixed $value
 */</span><span class="pln">
$template</span><span class="pun">-&gt;</span><span class="pln">__set</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $value</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 模板引擎配置项
 * @access public
 * @param array|string $config
 * @return void|array
 */</span><span class="pln">
$template</span><span class="pun">-&gt;</span><span class="pln">config</span><span class="pun">(</span><span class="pln">$config</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 模板变量获取
 * @access public
 * @param  string $name 变量名
 * @return mixed
 */</span><span class="pln">
$template</span><span class="pun">-&gt;</span><span class="kwd">get</span><span class="pun">(</span><span class="pln">$name </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 渲染模板文件
 * @access public
 * @param string    $template 模板文件
 * @param array     $vars 模板变量
 * @param array     $config 模板参数
 * @return void
 */</span><span class="pln">
$template</span><span class="pun">-&gt;</span><span class="pln">fetch</span><span class="pun">(</span><span class="pln">$template</span><span class="pun">,</span><span class="pln"> $vars </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $config </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 渲染模板内容
 * @access public
 * @param string    $content 模板内容
 * @param array     $vars 模板变量
 * @param array     $config 模板参数
 * @return void
 */</span><span class="pln">
$template</span><span class="pun">-&gt;</span><span class="pln">display</span><span class="pun">(</span><span class="pln">$content</span><span class="pun">,</span><span class="pln"> $vars </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $config </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 设置布局
 * @access public
 * @param mixed     $name 布局模板名称 false 则关闭布局
 * @param string    $replace 布局模板内容替换标识
 * @return object
 */</span><span class="pln">
$template</span><span class="pun">-&gt;</span><span class="pln">layout</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $replace </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 检查编译缓存是否有效
 * 如果无效则需要重新编译
 * @access private
 * @param string $cacheFile 缓存文件名
 * @return boolean
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">checkCache</span><span class="pun">(</span><span class="pln">$cacheFile</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 检查编译缓存是否存在
 * @access public
 * @param string $cacheId 缓存的id
 * @return boolean
 */</span><span class="pln">
$template</span><span class="pun">-&gt;</span><span class="pln">isCache</span><span class="pun">(</span><span class="pln">$cacheId</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 编译模板文件内容
 * @access private
 * @param string    $content 模板内容
 * @param string    $cacheFile 缓存文件名
 * @return void
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">compiler</span><span class="pun">(&amp;</span><span class="pln">$content</span><span class="pun">,</span><span class="pln"> $cacheFile</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 模板解析入口
 * 支持普通标签和TagLib解析 支持自定义标签库
 * @access public
 * @param string $content 要解析的模板内容
 * @return void
 */</span><span class="pln">
$template</span><span class="pun">-&gt;</span><span class="pln">parse</span><span class="pun">(&amp;</span><span class="pln">$content</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 检查PHP语法
 * @access private
 * @param string $content 要解析的模板内容
 * @return void
 * @throws \think\Exception
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">parsePhp</span><span class="pun">(&amp;</span><span class="pln">$content</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 解析模板中的布局标签
 * @access private
 * @param string $content 要解析的模板内容
 * @return void
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">parseLayout</span><span class="pun">(&amp;</span><span class="pln">$content</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 解析模板中的include标签
 * @access private
 * @param  string $content 要解析的模板内容
 * @return void
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">parseInclude</span><span class="pun">(&amp;</span><span class="pln">$content</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 解析模板中的extend标签
 * @access private
 * @param  string $content 要解析的模板内容
 * @return void
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">parseExtend</span><span class="pun">(&amp;</span><span class="pln">$content</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 替换页面中的literal标签
 * @access private
 * @param  string   $content 模板内容
 * @param  boolean  $restore 是否为还原
 * @return void
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">parseLiteral</span><span class="pun">(&amp;</span><span class="pln">$content</span><span class="pun">,</span><span class="pln"> $restore </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 获取模板中的block标签
 * @access private
 * @param  string   $content 模板内容
 * @param  boolean  $sort 是否排序
 * @return array
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">parseBlock</span><span class="pun">(&amp;</span><span class="pln">$content</span><span class="pun">,</span><span class="pln"> $sort </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 搜索模板页面中包含的TagLib库
 * 并返回列表
 * @access private
 * @param  string $content 模板内容
 * @return array|null
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">getIncludeTagLib</span><span class="pun">(&amp;</span><span class="pln">$content</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * TagLib库解析
 * @access public
 * @param  string   $tagLib 要解析的标签库
 * @param  string   $content 要解析的模板内容
 * @param  boolean  $hide 是否隐藏标签库前缀
 * @return void
 */</span><span class="pln">
$template</span><span class="pun">-&gt;</span><span class="pln">parseTagLib</span><span class="pun">(</span><span class="pln">$tagLib</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">$content</span><span class="pun">,</span><span class="pln"> $hide </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 分析标签属性
 * @access public
 * @param  string   $str 属性字符串
 * @param  string   $name 不为空时返回指定的属性名
 * @return array
 */</span><span class="pln">
$template</span><span class="pun">-&gt;</span><span class="pln">parseAttr</span><span class="pun">(</span><span class="pln">$str</span><span class="pun">,</span><span class="pln"> $name </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 模板标签解析
 * 格式： {TagName:args [|content] }
 * @access private
 * @param  string $content 要解析的模板内容
 * @return void
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">parseTag</span><span class="pun">(&amp;</span><span class="pln">$content</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 模板变量解析,支持使用函数
 * 格式： {$varname|function1|function2=arg1,arg2}
 * @access public
 * @param  string $varStr 变量数据
 * @return void
 */</span><span class="pln">
$template</span><span class="pun">-&gt;</span><span class="pln">parseVar</span><span class="pun">(&amp;</span><span class="pln">$varStr</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 对模板中使用了函数的变量进行解析
 * 格式 {$varname|function1|function2=arg1,arg2}
 * @access public
 * @param  string $varStr 变量字符串
 * @return void
 */</span><span class="pln">
$template</span><span class="pun">-&gt;</span><span class="pln">parseVarFunction</span><span class="pun">(&amp;</span><span class="pln">$varStr</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 特殊模板变量解析
 * 格式 以 $Think. 打头的变量属于特殊模板变量
 * @access public
 * @param  array $vars 变量数组
 * @return string
 */</span><span class="pln">
$template</span><span class="pun">-&gt;</span><span class="pln">parseThinkVar</span><span class="pun">(</span><span class="pln">$vars</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 分析加载的模板文件并读取内容 支持多个模板文件读取
 * @access private
 * @param  string $templateName 模板文件名
 * @return string
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">parseTemplateName</span><span class="pun">(</span><span class="pln">$templateName</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 解析模板文件名
 * @access private
 * @param  string $template 文件名
 * @return string|false
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">parseTemplateFile</span><span class="pun">(</span><span class="pln">$template</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 按标签生成正则
 * @access private
 * @param  string $tagName 标签名
 * @return string
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">getRegex</span><span class="pun">(</span><span class="pln">$tagName</span><span class="pun">);</span></pre>
						</section>
												<section class="cmd-description grid-item" id="cmd-url" style="position: absolute; left: 811px; top: 21389px;">
							<h4><a name="url" href="#url">Url</a>
							<a href="http://www.kancloud.cn/manual/thinkphp5/118012" title="Url @ ThinkPHP Docs"><i class="icon-file-text"></i></a></h4>
							<pre class="prettyprint lang-php prettyprinted"><span class="com">/**
 * URL生成 支持路由反射
 * @param string            $url 路由地址
 * @param string|array      $vars 参数（支持数组和字符串）a=val&amp;b=val2... ['a'=&gt;'val1', 'b'=&gt;'val2']
 * @param string|bool       $suffix 伪静态后缀，默认为true表示获取配置值
 * @param boolean|string    $domain 是否显示域名 或者直接传入域名
 * @return string
 */</span><span class="pln">
</span><span class="typ">Url</span><span class="pun">::</span><span class="pln">build</span><span class="pun">(</span><span class="pln">$url </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $vars </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $suffix </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> $domain </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 直接解析URL地址</span><span class="pln">
</span><span class="kwd">self</span><span class="pun">::</span><span class="pln">parseUrl</span><span class="pun">(</span><span class="pln">$url</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">$domain</span><span class="pun">);</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
    $request </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Request</span><span class="pun">::</span><span class="pln">instance</span><span class="pun">();</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="lit">0</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> strpos</span><span class="pun">(</span><span class="pln">$url</span><span class="pun">,</span><span class="pln"> </span><span class="str">'/'</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="com">// 直接作为路由地址解析</span><span class="pln">
        $url </span><span class="pun">=</span><span class="pln"> substr</span><span class="pun">(</span><span class="pln">$url</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln"> elseif </span><span class="pun">(</span><span class="kwd">false</span><span class="pln"> </span><span class="pun">!==</span><span class="pln"> strpos</span><span class="pun">(</span><span class="pln">$url</span><span class="pun">,</span><span class="pln"> </span><span class="str">'\\'</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="com">// 解析到类</span><span class="pln">
        $url </span><span class="pun">=</span><span class="pln"> ltrim</span><span class="pun">(</span><span class="pln">str_replace</span><span class="pun">(</span><span class="str">'\\'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'/'</span><span class="pun">,</span><span class="pln"> $url</span><span class="pun">),</span><span class="pln"> </span><span class="str">'/'</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln"> elseif </span><span class="pun">(</span><span class="lit">0</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> strpos</span><span class="pun">(</span><span class="pln">$url</span><span class="pun">,</span><span class="pln"> </span><span class="str">'@'</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="com">// 解析到控制器</span><span class="pln">
        $url </span><span class="pun">=</span><span class="pln"> substr</span><span class="pun">(</span><span class="pln">$url</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="com">// 解析到 模块/控制器/操作</span><span class="pln">
        $module  </span><span class="pun">=</span><span class="pln"> $request</span><span class="pun">-&gt;</span><span class="kwd">module</span><span class="pun">();</span><span class="pln">
        $domains </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Route</span><span class="pun">::</span><span class="pln">rules</span><span class="pun">(</span><span class="str">'domain'</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">true</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> $domain </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> substr_count</span><span class="pun">(</span><span class="pln">$url</span><span class="pun">,</span><span class="pln"> </span><span class="str">'/'</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            $current </span><span class="pun">=</span><span class="pln"> $request</span><span class="pun">-&gt;</span><span class="pln">host</span><span class="pun">();</span><span class="pln">
            $match   </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln">
            $pos     </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln">
            </span><span class="kwd">foreach</span><span class="pln"> </span><span class="pun">(</span><span class="pln">$domains </span><span class="kwd">as</span><span class="pln"> $key </span><span class="pun">=&gt;</span><span class="pln"> $item</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">isset</span><span class="pun">(</span><span class="pln">$item</span><span class="pun">[</span><span class="str">'[bind]'</span><span class="pun">])</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> strpos</span><span class="pun">(</span><span class="pln">$url</span><span class="pun">,</span><span class="pln"> $item</span><span class="pun">[</span><span class="str">'[bind]'</span><span class="pun">][</span><span class="lit">0</span><span class="pun">]))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    $pos</span><span class="pun">[</span><span class="pln">$key</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> strlen</span><span class="pun">(</span><span class="pln">$item</span><span class="pun">[</span><span class="str">'[bind]'</span><span class="pun">][</span><span class="lit">0</span><span class="pun">])</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
                    $match</span><span class="pun">[]</span><span class="pln">   </span><span class="pun">=</span><span class="pln"> $key</span><span class="pun">;</span><span class="pln">
                    $module    </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">;</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">$match</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                $domain </span><span class="pun">=</span><span class="pln"> current</span><span class="pun">(</span><span class="pln">$match</span><span class="pun">);</span><span class="pln">
                </span><span class="kwd">foreach</span><span class="pln"> </span><span class="pun">(</span><span class="pln">$match </span><span class="kwd">as</span><span class="pln"> $item</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="lit">0</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> strpos</span><span class="pun">(</span><span class="pln">$current</span><span class="pun">,</span><span class="pln"> $item</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                        $domain </span><span class="pun">=</span><span class="pln"> $item</span><span class="pun">;</span><span class="pln">
                    </span><span class="pun">}</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
                </span><span class="kwd">self</span><span class="pun">::</span><span class="pln">$bindCheck </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
                $url             </span><span class="pun">=</span><span class="pln"> substr</span><span class="pun">(</span><span class="pln">$url</span><span class="pun">,</span><span class="pln"> $pos</span><span class="pun">[</span><span class="pln">$domain</span><span class="pun">]);</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">}</span><span class="pln"> elseif </span><span class="pun">(</span><span class="pln">$domain</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">isset</span><span class="pun">(</span><span class="pln">$domains</span><span class="pun">[</span><span class="pln">$domain</span><span class="pun">][</span><span class="str">'[bind]'</span><span class="pun">][</span><span class="lit">0</span><span class="pun">]))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                $bindModule </span><span class="pun">=</span><span class="pln"> $domains</span><span class="pun">[</span><span class="pln">$domain</span><span class="pun">][</span><span class="str">'[bind]'</span><span class="pun">][</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">$bindModule </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">in_array</span><span class="pun">(</span><span class="pln">$bindModule</span><span class="pun">[</span><span class="lit">0</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="str">'\\'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'@'</span><span class="pun">]))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    $module </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">;</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        $module </span><span class="pun">=</span><span class="pln"> $module </span><span class="pun">?</span><span class="pln"> $module </span><span class="pun">.</span><span class="pln"> </span><span class="str">'/'</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">;</span><span class="pln">

        $controller </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Loader</span><span class="pun">::</span><span class="pln">parseName</span><span class="pun">(</span><span class="pln">$request</span><span class="pun">-&gt;</span><span class="pln">controller</span><span class="pun">());</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="str">''</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> $url</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="com">// 空字符串输出当前的 模块/控制器/操作</span><span class="pln">
            $url </span><span class="pun">=</span><span class="pln"> $module </span><span class="pun">.</span><span class="pln"> $controller </span><span class="pun">.</span><span class="pln"> </span><span class="str">'/'</span><span class="pln"> </span><span class="pun">.</span><span class="pln"> $request</span><span class="pun">-&gt;</span><span class="pln">action</span><span class="pun">();</span><span class="pln">
        </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            $path       </span><span class="pun">=</span><span class="pln"> explode</span><span class="pun">(</span><span class="str">'/'</span><span class="pun">,</span><span class="pln"> $url</span><span class="pun">);</span><span class="pln">
            $action     </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Config</span><span class="pun">::</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'url_convert'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> strtolower</span><span class="pun">(</span><span class="pln">array_pop</span><span class="pun">(</span><span class="pln">$path</span><span class="pun">))</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> array_pop</span><span class="pun">(</span><span class="pln">$path</span><span class="pun">);</span><span class="pln">
            $controller </span><span class="pun">=</span><span class="pln"> empty</span><span class="pun">(</span><span class="pln">$path</span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> $controller </span><span class="pun">:</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Config</span><span class="pun">::</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'url_convert'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="typ">Loader</span><span class="pun">::</span><span class="pln">parseName</span><span class="pun">(</span><span class="pln">array_pop</span><span class="pun">(</span><span class="pln">$path</span><span class="pun">))</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> array_pop</span><span class="pun">(</span><span class="pln">$path</span><span class="pun">));</span><span class="pln">
            $module     </span><span class="pun">=</span><span class="pln"> empty</span><span class="pun">(</span><span class="pln">$path</span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> $module </span><span class="pun">:</span><span class="pln"> array_pop</span><span class="pun">(</span><span class="pln">$path</span><span class="pun">)</span><span class="pln"> </span><span class="pun">.</span><span class="pln"> </span><span class="str">'/'</span><span class="pun">;</span><span class="pln">
            $url        </span><span class="pun">=</span><span class="pln"> $module </span><span class="pun">.</span><span class="pln"> $controller </span><span class="pun">.</span><span class="pln"> </span><span class="str">'/'</span><span class="pln"> </span><span class="pun">.</span><span class="pln"> $action</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> $url</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="com">// 检测域名</span><span class="pln">
</span><span class="kwd">self</span><span class="pun">::</span><span class="pln">parseDomain</span><span class="pun">(&amp;</span><span class="pln">$url</span><span class="pun">,</span><span class="pln"> $domain</span><span class="pun">);</span><span class="pln">
</span><span class="com">// 解析URL后缀</span><span class="pln">
</span><span class="kwd">self</span><span class="pun">::</span><span class="pln">parseSuffix</span><span class="pun">(</span><span class="pln">$suffix</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 匹配路由地址</span><span class="pln">
</span><span class="typ">Url</span><span class="pun">::</span><span class="kwd">function</span><span class="pln"> getRuleUrl</span><span class="pun">(</span><span class="pln">$rule</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">$vars </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">// 指定当前生成URL地址的root</span><span class="pln">
</span><span class="typ">Url</span><span class="pun">::</span><span class="kwd">function</span><span class="pln"> root</span><span class="pun">(</span><span class="pln">$root</span><span class="pun">);</span></pre>
						</section>
												<section class="cmd-description grid-item" id="cmd-validate" style="position: absolute; left: 811px; top: 23931px;">
							<h4><a name="validate" href="#validate">Validate</a>
							<a href="http://www.kancloud.cn/manual/thinkphp5/129319" title="Validate @ ThinkPHP Docs"><i class="icon-file-text"></i></a></h4>
							<pre class="prettyprint lang-php prettyprinted"><span class="com">/**
 * 构造函数
 * @access public
 * @param array $rules 验证规则
 * @param array $message 验证提示信息
 * @param array $field 验证字段描述信息
 */</span><span class="pln">
$validate </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Validate</span><span class="pun">(</span><span class="pln">array $rules </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $message </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $field </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 实例化验证
 * @access public
 * @param array     $rules 验证规则
 * @param array     $message 验证提示信息
 * @param array     $field 验证字段描述信息
 * @return Validate
 */</span><span class="pln">
</span><span class="typ">Validate</span><span class="pun">::</span><span class="pln">make</span><span class="pun">(</span><span class="pln">$rules </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $message </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $field </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 添加字段验证规则
 * @access protected
 * @param string|array  $name  字段名称或者规则数组
 * @param mixed         $rule  验证规则
 * @return Validate
 */</span><span class="pln">
$validate</span><span class="pun">-&gt;</span><span class="pln">rule</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $rule </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 注册验证（类型）规则
 * @access public
 * @param string    $type  验证规则类型
 * @param mixed     $callback callback方法(或闭包)
 * @return void
 */</span><span class="pln">
</span><span class="typ">Validate</span><span class="pun">::</span><span class="pln">extend</span><span class="pun">(</span><span class="pln">$type</span><span class="pun">,</span><span class="pln"> $callback </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 获取验证规则的默认提示信息
 * @access protected
 * @param string|array  $type  验证规则类型名称或者数组
 * @param string        $msg  验证提示信息
 * @return void
 */</span><span class="pln">
</span><span class="typ">Validate</span><span class="pun">::</span><span class="pln">setTypeMsg</span><span class="pun">(</span><span class="pln">$type</span><span class="pun">,</span><span class="pln"> $msg </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 设置提示信息
 * @access public
 * @param string|array  $name  字段名称
 * @param string        $message 提示信息
 * @return Validate
 */</span><span class="pln">
$validate</span><span class="pun">-&gt;</span><span class="pln">message</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $message </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 设置验证场景
 * @access public
 * @param string|array  $name  场景名或者场景设置数组
 * @param mixed         $fields 要验证的字段
 * @return Validate
 */</span><span class="pln">
$validate</span><span class="pun">-&gt;</span><span class="pln">scene</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $fields </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 判断是否存在某个验证场景
 * @access public
 * @param string $name 场景名
 * @return bool
 */</span><span class="pln">
$validate</span><span class="pun">-&gt;</span><span class="pln">hasScene</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 设置批量验证
 * @access public
 * @param bool $batch  是否批量验证
 * @return Validate
 */</span><span class="pln">
$validate</span><span class="pun">-&gt;</span><span class="pln">batch</span><span class="pun">(</span><span class="pln">$batch </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 数据自动验证
 * @access public
 * @param array     $data  数据
 * @param mixed     $rules  验证规则
 * @param string    $scene 验证场景
 * @return bool
 */</span><span class="pln">
$validate</span><span class="pun">-&gt;</span><span class="pln">check</span><span class="pun">(</span><span class="pln">$data</span><span class="pun">,</span><span class="pln"> $rules </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $scene </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 验证单个字段规则
 * @access protected
 * @param string    $field  字段名
 * @param mixed     $value  字段值
 * @param mixed     $rules  验证规则
 * @param array     $data  数据
 * @param string    $title  字段描述
 * @param array     $msg  提示信息
 * @return mixed
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">checkItem</span><span class="pun">(</span><span class="pln">$field</span><span class="pun">,</span><span class="pln"> $value</span><span class="pun">,</span><span class="pln"> $rules</span><span class="pun">,</span><span class="pln"> $data</span><span class="pun">,</span><span class="pln"> $title </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $msg </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 验证是否和某个字段的值一致
 * @access protected
 * @param mixed     $value 字段值
 * @param mixed     $rule  验证规则
 * @param array     $data  数据
 * @param string    $field 字段名
 * @return bool
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">confirm</span><span class="pun">(</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">,</span><span class="pln"> $data</span><span class="pun">,</span><span class="pln"> $field </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 验证是否和某个字段的值是否不同
 * @access protected
 * @param mixed $value 字段值
 * @param mixed $rule  验证规则
 * @param array $data  数据
 * @return bool
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">different</span><span class="pun">(</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">,</span><span class="pln"> $data</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 验证是否大于等于某个值
 * @access protected
 * @param mixed     $value  字段值
 * @param mixed     $rule  验证规则
 * @return bool
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">egt</span><span class="pun">(</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 验证是否大于某个值
 * @access protected
 * @param mixed     $value  字段值
 * @param mixed     $rule  验证规则
 * @return bool
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">gt</span><span class="pun">(</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 验证是否小于等于某个值
 * @access protected
 * @param mixed     $value  字段值
 * @param mixed     $rule  验证规则
 * @return bool
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">elt</span><span class="pun">(</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 验证是否小于某个值
 * @access protected
 * @param mixed     $value  字段值
 * @param mixed     $rule  验证规则
 * @return bool
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">lt</span><span class="pun">(</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 验证是否等于某个值
 * @access protected
 * @param mixed     $value  字段值
 * @param mixed     $rule  验证规则
 * @return bool
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">eq</span><span class="pun">(</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 验证字段值是否为有效格式
 * @access protected
 * @param mixed     $value  字段值
 * @param string    $rule  验证规则
 * @param array     $data  验证数据
 * @return bool
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="kwd">is</span><span class="pun">(</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">,</span><span class="pln"> $data </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">// 判断图像类型</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">getImageType</span><span class="pun">(</span><span class="pln">$image</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 验证是否为合格的域名或者IP 支持A，MX，NS，SOA，PTR，CNAME，AAAA，A6， SRV，NAPTR，TXT 或者 ANY类型
 * @access protected
 * @param mixed     $value  字段值
 * @param mixed     $rule  验证规则
 * @return bool
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">activeUrl</span><span class="pun">(</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 验证是否有效IP
 * @access protected
 * @param mixed     $value  字段值
 * @param mixed     $rule  验证规则 ipv4 ipv6
 * @return bool
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">ip</span><span class="pun">(</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 验证上传文件后缀
 * @access protected
 * @param mixed     $file  上传文件
 * @param mixed     $rule  验证规则
 * @return bool
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">fileExt</span><span class="pun">(</span><span class="pln">$file</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 验证上传文件类型
 * @access protected
 * @param mixed     $file  上传文件
 * @param mixed     $rule  验证规则
 * @return bool
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">fileMime</span><span class="pun">(</span><span class="pln">$file</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 验证上传文件大小
 * @access protected
 * @param mixed     $file  上传文件
 * @param mixed     $rule  验证规则
 * @return bool
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">fileSize</span><span class="pun">(</span><span class="pln">$file</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 验证图片的宽高及类型
 * @access protected
 * @param mixed     $file  上传文件
 * @param mixed     $rule  验证规则
 * @return bool
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">image</span><span class="pun">(</span><span class="pln">$file</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 验证请求类型
 * @access protected
 * @param mixed     $value  字段值
 * @param mixed     $rule  验证规则
 * @return bool
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">method</span><span class="pun">(</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 验证时间和日期是否符合指定格式
 * @access protected
 * @param mixed     $value  字段值
 * @param mixed     $rule  验证规则
 * @return bool
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">dateFormat</span><span class="pun">(</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 验证是否唯一
 * @access protected
 * @param mixed     $value  字段值
 * @param mixed     $rule  验证规则 格式：数据表,字段名,排除ID,主键名
 * @param array     $data  数据
 * @param string    $field  验证字段名
 * @return bool
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">unique</span><span class="pun">(</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">,</span><span class="pln"> $data</span><span class="pun">,</span><span class="pln"> $field</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 使用行为类验证
 * @access protected
 * @param mixed     $value  字段值
 * @param mixed     $rule  验证规则
 * @param array     $data  数据
 * @return mixed
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">behavior</span><span class="pun">(</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">,</span><span class="pln"> $data</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 使用filter_var方式验证
 * @access protected
 * @param mixed     $value  字段值
 * @param mixed     $rule  验证规则
 * @return bool
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">filter</span><span class="pun">(</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 验证某个字段等于某个值的时候必须
 * @access protected
 * @param mixed     $value  字段值
 * @param mixed     $rule  验证规则
 * @param array     $data  数据
 * @return bool
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">requireIf</span><span class="pun">(</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">,</span><span class="pln"> $data</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 通过回调方法验证某个字段是否必须
 * @access protected
 * @param mixed     $value  字段值
 * @param mixed     $rule  验证规则
 * @param array     $data  数据
 * @return bool
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">requireCallback</span><span class="pun">(</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">,</span><span class="pln"> $data</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 验证某个字段有值的情况下必须
 * @access protected
 * @param mixed     $value  字段值
 * @param mixed     $rule  验证规则
 * @param array     $data  数据
 * @return bool
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">requireWith</span><span class="pun">(</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">,</span><span class="pln"> $data</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 验证是否在范围内
 * @access protected
 * @param mixed     $value  字段值
 * @param mixed     $rule  验证规则
 * @return bool
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="kwd">in</span><span class="pun">(</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 验证是否不在某个范围
 * @access protected
 * @param mixed     $value  字段值
 * @param mixed     $rule  验证规则
 * @return bool
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">notIn</span><span class="pun">(</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * between验证数据
 * @access protected
 * @param mixed     $value  字段值
 * @param mixed     $rule  验证规则
 * @return bool
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">between</span><span class="pun">(</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 使用notbetween验证数据
 * @access protected
 * @param mixed     $value  字段值
 * @param mixed     $rule  验证规则
 * @return bool
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">notBetween</span><span class="pun">(</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 验证数据长度
 * @access protected
 * @param mixed     $value  字段值
 * @param mixed     $rule  验证规则
 * @return bool
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">length</span><span class="pun">(</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 验证数据最大长度
 * @access protected
 * @param mixed     $value  字段值
 * @param mixed     $rule  验证规则
 * @return bool
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">max</span><span class="pun">(</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 验证数据最小长度
 * @access protected
 * @param mixed     $value  字段值
 * @param mixed     $rule  验证规则
 * @return bool
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">min</span><span class="pun">(</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 验证日期
 * @access protected
 * @param mixed     $value  字段值
 * @param mixed     $rule  验证规则
 * @return bool
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">after</span><span class="pun">(</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 验证日期
 * @access protected
 * @param mixed     $value  字段值
 * @param mixed     $rule  验证规则
 * @return bool
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">before</span><span class="pun">(</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 验证有效期
 * @access protected
 * @param mixed     $value  字段值
 * @param mixed     $rule  验证规则
 * @return bool
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">expire</span><span class="pun">(</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 验证IP许可
 * @access protected
 * @param string    $value  字段值
 * @param mixed     $rule  验证规则
 * @return mixed
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">allowIp</span><span class="pun">(</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 验证IP禁用
 * @access protected
 * @param string    $value  字段值
 * @param mixed     $rule  验证规则
 * @return mixed
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">denyIp</span><span class="pun">(</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 使用正则验证数据
 * @access protected
 * @param mixed     $value  字段值
 * @param mixed     $rule  验证规则 正则规则或者预定义正则名
 * @return mixed
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">regex</span><span class="pun">(</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 验证表单令牌
 * @access protected
 * @param mixed     $value  字段值
 * @param mixed     $rule  验证规则
 * @param array     $data  数据
 * @return bool
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">token</span><span class="pun">(</span><span class="pln">$value</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">,</span><span class="pln"> $data</span><span class="pun">);</span><span class="pln">

</span><span class="com">// 获取错误信息</span><span class="pln">
$validate</span><span class="pun">-&gt;</span><span class="pln">getError</span><span class="pun">();</span><span class="pln">

</span><span class="com">/**
 * 获取数据值
 * @access protected
 * @param array     $data  数据
 * @param string    $key  数据标识 支持二维
 * @return mixed
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">getDataValue</span><span class="pun">(</span><span class="pln">$data</span><span class="pun">,</span><span class="pln"> $key</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 获取验证规则的错误提示信息
 * @access protected
 * @param string    $attribute  字段英文名
 * @param string    $title  字段描述名
 * @param string    $type  验证规则名称
 * @param mixed     $rule  验证规则数据
 * @return string
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">getRuleMsg</span><span class="pun">(</span><span class="pln">$attribute</span><span class="pun">,</span><span class="pln"> $title</span><span class="pun">,</span><span class="pln"> $type</span><span class="pun">,</span><span class="pln"> $rule</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 获取数据验证的场景
 * @access protected
 * @param string $scene  验证场景
 * @return array
 */</span><span class="pln">
$this</span><span class="pun">-&gt;</span><span class="pln">getScene</span><span class="pun">(</span><span class="pln">$scene </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="typ">Validate</span><span class="pun">::</span><span class="pln">__callStatic</span><span class="pun">(</span><span class="pln">$method</span><span class="pun">,</span><span class="pln"> $params</span><span class="pun">);</span></pre>
						</section>
												<section class="cmd-description grid-item" id="cmd-view" style="position: absolute; left: 0px; top: 25431px;">
							<h4><a name="view" href="#view">View</a>
							<a href="http://www.kancloud.cn/manual/thinkphp5/118112" title="View @ ThinkPHP Docs"><i class="icon-file-text"></i></a></h4>
							<pre class="prettyprint lang-php prettyprinted"><span class="com">/**
 * 构造函数
 * @access public
 * @param array $engine  模板引擎参数
 * @param array $replace  字符串替换参数
 */</span><span class="pln">
$view </span><span class="pun">=</span><span class="pln"> </span><span class="typ">New</span><span class="pln"> </span><span class="typ">View</span><span class="pun">(</span><span class="pln">$engine </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $replace </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 初始化视图
 * @access public
 * @param array $engine  模板引擎参数
 * @param array $replace  字符串替换参数
 * @return object
 */</span><span class="pln">
</span><span class="typ">View</span><span class="pun">::</span><span class="pln">instance</span><span class="pun">(</span><span class="pln">$engine </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $replace </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 模板变量静态赋值
 * @access public
 * @param mixed $name  变量名
 * @param mixed $value 变量值
 * @return void
 */</span><span class="pln">
</span><span class="typ">View</span><span class="pun">::</span><span class="pln">share</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $value </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 模板变量赋值
 * @access public
 * @param mixed $name  变量名
 * @param mixed $value 变量值
 * @return $this
 */</span><span class="pln">
$view</span><span class="pun">-&gt;</span><span class="pln">assign</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $value </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 设置当前模板解析的引擎
 * @access public
 * @param array|string $options 引擎参数
 * @return $this
 */</span><span class="pln">
$view</span><span class="pun">-&gt;</span><span class="pln">engine</span><span class="pun">(</span><span class="pln">$options </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 配置模板引擎
 * @access private
 * @param string|array  $name 参数名
 * @param mixed         $value 参数值
 * @return void
 */</span><span class="pln">
$view</span><span class="pun">-&gt;</span><span class="pln">config</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $value </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 解析和获取模板内容 用于输出
 * @param string    $template 模板文件名或者内容
 * @param array     $vars     模板输出变量
 * @param array     $replace 替换内容
 * @param array     $config     模板参数
 * @param bool      $renderContent     是否渲染内容
 * @return string
 * @throws Exception
 */</span><span class="pln">
$view</span><span class="pun">-&gt;</span><span class="pln">fetch</span><span class="pun">(</span><span class="pln">$template </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> $vars </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $replace </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $config </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $renderContent </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 视图内容替换
 * @access public
 * @param string|array  $content 被替换内容（支持批量替换）
 * @param string        $replace    替换内容
 * @return $this
 */</span><span class="pln">
$view</span><span class="pun">-&gt;</span><span class="pln">replace</span><span class="pun">(</span><span class="pln">$content</span><span class="pun">,</span><span class="pln"> $replace </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 渲染内容输出
 * @access public
 * @param string $content 内容
 * @param array  $vars    模板输出变量
 * @param array  $replace 替换内容
 * @param array  $config     模板参数
 * @return mixed
 */</span><span class="pln">
$view</span><span class="pun">-&gt;</span><span class="pln">display</span><span class="pun">(</span><span class="pln">$content</span><span class="pun">,</span><span class="pln"> $vars </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $replace </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> $config </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[]);</span><span class="pln">

</span><span class="com">/**
 * 模板变量赋值
 * @access public
 * @param string    $name  变量名
 * @param mixed     $value 变量值
 */</span><span class="pln">
$view</span><span class="pun">-&gt;</span><span class="pln">__set</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">,</span><span class="pln"> $value</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 取得模板显示变量的值
 * @access protected
 * @param string $name 模板变量
 * @return mixed
 */</span><span class="pln">
$view</span><span class="pun">-&gt;</span><span class="pln">__get</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">);</span><span class="pln">

</span><span class="com">/**
 * 检测模板变量是否设置
 * @access public
 * @param string $name 模板变量名
 * @return bool
 */</span><span class="pln">
$view</span><span class="pun">-&gt;</span><span class="pln">__isset</span><span class="pun">(</span><span class="pln">$name</span><span class="pun">);</span><span class="pln">  </span></pre>
						</section>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script src="./index_files/jquery.js"></script>
	<script src="./index_files/jquery.highlight-4.js"></script>
	<script src="./index_files/prettify.js"></script>
	<script src="./index_files/foundation.min.js"></script>
	<script src="./index_files/masonry.js"></script>
	<script src="./index_files/app.js"></script>
</body>
</html>